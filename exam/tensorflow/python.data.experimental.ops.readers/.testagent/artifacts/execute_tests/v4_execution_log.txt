=== Run Tests ===
EEEF                                                                     [100%]
=================================== ERRORS ====================================
_ ERROR at setup of test_make_csv_dataset_basic[test.csv-32-column_names0-col3-column_defaults0] _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1226: AttributeError

During handling of the above exception, another exception occurred:

    @pytest.fixture
    def mock_gfile_glob():
        """mock tf.io.gfile.glob函数"""
        # 使用正确的导入路径：tensorflow.python.platform.gfile.Glob
>       with mock.patch('tensorflow.python.platform.gfile.Glob') as mock_glob:

tests\test_tensorflow_python_data_experimental_ops_readers_csv.py:58: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1388: in __enter__
    self.target = self.getter()
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1563: in <lambda>
    getter = lambda: _importer(target)
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1239: in _importer
    thing = _dot_lookup(thing, comp, import_path)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
            return getattr(thing, comp)
        except AttributeError:
            __import__(import_path)
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1229: AttributeError
_ ERROR at setup of test_csvdataset_basic_reading[data.csv-record_defaults0-select_cols0] _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1226: AttributeError

During handling of the above exception, another exception occurred:

    @pytest.fixture
    def mock_gfile_glob():
        """mock tf.io.gfile.glob函数"""
        # 使用正确的导入路径：tensorflow.python.platform.gfile.Glob
>       with mock.patch('tensorflow.python.platform.gfile.Glob') as mock_glob:

tests\test_tensorflow_python_data_experimental_ops_readers_csv.py:58: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1388: in __enter__
    self.target = self.getter()
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1563: in <lambda>
    getter = lambda: _importer(target)
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1239: in _importer
    thing = _dot_lookup(thing, comp, import_path)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
            return getattr(thing, comp)
        except AttributeError:
            __import__(import_path)
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1229: AttributeError
________ ERROR at setup of TestCSVReaders.test_make_csv_dataset_basic _________

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1226: AttributeError

During handling of the above exception, another exception occurred:

    @pytest.fixture
    def mock_gfile_glob():
        """mock tf.io.gfile.glob函数"""
        # 使用正确的导入路径：tensorflow.python.platform.gfile.Glob
>       with mock.patch('tensorflow.python.platform.gfile.Glob') as mock_glob:

tests\test_tensorflow_python_data_experimental_ops_readers_csv.py:58: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1388: in __enter__
    self.target = self.getter()
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1563: in <lambda>
    getter = lambda: _importer(target)
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1239: in _importer
    thing = _dot_lookup(thing, comp, import_path)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
            return getattr(thing, comp)
        except AttributeError:
            __import__(import_path)
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1229: AttributeError
================================== FAILURES ===================================
________________ TestCSVReaders.test_csvdataset_basic_reading _________________

self = <test_tensorflow_python_data_experimental_ops_readers_csv.TestCSVReaders object at 0x000002546A4F01C0>
temp_csv_file = 'C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\tmp6rpuvhbs.csv'

    def test_csvdataset_basic_reading(self, temp_csv_file):
        """测试CsvDataset基本读取功能"""
        # CsvDataset直接使用文件路径，不需要mock
    
        # 创建CsvDataset
>       dataset = readers.CsvDataset(
            filenames=[temp_csv_file],
            record_defaults=[tf.float32, tf.int32, tf.string],
            select_cols=[0, 2],
            header=True
        )

tests\test_tensorflow_python_data_experimental_ops_readers_csv.py:350: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
D:\Coding\Anaconda\envs\testagent-experiment\lib\site-packages\tensorflow\python\data\experimental\ops\readers.py:797: in __init__
    variant_tensor = gen_experimental_dataset_ops.csv_dataset_v2(
D:\Coding\Anaconda\envs\testagent-experiment\lib\site-packages\tensorflow\python\ops\gen_experimental_dataset_ops.py:531: in csv_dataset_v2
    _ops.raise_from_not_ok_status(e, name)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

e = _NotOkStatusException(), name = None

    def raise_from_not_ok_status(e, name):
      e.message += (" name: " + name if name is not None else "")
>     raise core._status_to_exception(e) from None  # pylint: disable=protected-access
E     tensorflow.python.framework.errors_impl.InvalidArgumentError: select_cols should match output size [Op:CSVDatasetV2]

D:\Coding\Anaconda\envs\testagent-experiment\lib\site-packages\tensorflow\python\framework\ops.py:7186: InvalidArgumentError
---------------------------- Captured stderr call -----------------------------
2026-01-18 21:26:54.563101: I tensorflow/core/platform/cpu_feature_guard.cc:151] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX AVX2
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.

---------- coverage: platform win32, python 3.9.25-final-0 -----------
Name                                                                Stmts   Miss Branch BrPart  Cover   Missing
---------------------------------------------------------------------------------------------------------------
test_import.py                                                         16     16      2      0     0%   1-22
tests\test_tensorflow_python_data_experimental_ops_readers_csv.py     160    118     46      1    21%   37-38, 43-52, 59, 65-66, 71-72, 97-164, 192-281, 316-343, 358-369, 374-379, 382
---------------------------------------------------------------------------------------------------------------
TOTAL                                                                 176    134     48      1    19%
Coverage XML written to file coverage.xml

=========================== short test summary info ===========================
FAILED tests\test_tensorflow_python_data_experimental_ops_readers_csv.py::TestCSVReaders::test_csvdataset_basic_reading
ERROR tests\test_tensorflow_python_data_experimental_ops_readers_csv.py::test_make_csv_dataset_basic[test.csv-32-column_names0-col3-column_defaults0]
ERROR tests\test_tensorflow_python_data_experimental_ops_readers_csv.py::test_csvdataset_basic_reading[data.csv-record_defaults0-select_cols0]
ERROR tests\test_tensorflow_python_data_experimental_ops_readers_csv.py::TestCSVReaders::test_make_csv_dataset_basic
1 failed, 3 errors in 1.97s

Error: exit 1