{
  "workflow_id": "66a04347",
  "created_at": "2026-01-25T08:21:38.681593",
  "op": "tensorflow_python_ops_ragged_ragged_functional_ops",
  "arch": "python",
  "soc": "python",
  "vendor": "python",
  "project_root": "/Users/zzf1sh/Documents/Project/TestAgent-CLI-main/exam/tensorflow/python.ops.ragged.ragged_functional_ops",
  "target": "tensorflow.python.ops.ragged.ragged_functional_ops",
  "target_slug": "tensorflow_python_ops_ragged_ragged_functional_ops",
  "current_stage": "complete",
  "stage_index": 6,
  "mode": "full-auto",
  "epoch_total": 5,
  "epoch_current": 5,
  "last_failure_signature": "",
  "last_error_signature": "",
  "last_block_errors": {},
  "auto_stop_reason": "",
  "artifacts": {
    "function_doc.md": "# tensorflow.python.ops.ragged.ragged_functional_ops - 函数说明\n\n## 1. 基本信息\n- **FQN**: tensorflow.python.ops.ragged.ragged_functional_ops\n- **模块文件**: `/opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/python/ops/ragged/ragged_functional_ops.py`\n- **签名**: map_flat_values(op, *args, **kwargs)\n- **对象类型**: function (模块中的主要函数)\n\n## 2. 功能概述\n- 对 RaggedTensor 的 flat_values 应用操作 op\n- 替换 args/kwargs 中的 RaggedTensor 为其 flat_values 张量\n- 使用输入 RaggedTensor 的 nested_row_splits 和 op 的返回值构造新的 RaggedTensor\n\n## 3. 参数说明\n- op (callable): 要应用到 RaggedTensor flat_values 的操作\n  - 通常是逐元素操作（如 math_ops.add）\n  - 必须保持最外层维度大小不变\n- *args: op 的位置参数\n  - 可包含 RaggedTensor 或其他类型\n- **kwargs: op 的关键字参数\n  - 可包含 RaggedTensor 或其他类型\n\n## 4. 返回值\n- 返回 RaggedTensor 对象\n- ragged_rank 与所有输入 RaggedTensor 的 ragged_rank 匹配\n- 如果 args 不包含 RaggedTensor，直接返回 op(*args, **kwargs)\n\n## 5. 文档要点\n- 输入参数包含多个 RaggedTensor 时，必须具有相同的 nested_row_splits\n- 主要用于对 RaggedTensor 中的每个值应用逐元素操作\n- 警告：不将 op 应用到 RaggedTensor 的每一行（与 tf.map_fn 不同）\n- op 返回值的 shape[0] 必须匹配 RaggedTensor flat_values 的 shape[0]\n\n## 6. 源码摘要\n- 关键路径：\n  1. 调用 _replace_ragged_with_flat_values 替换 RaggedTensor 为 flat_values\n  2. 收集 partition_lists 和 flat_values_nrows\n  3. 检查 flat_values 外维度大小是否一致\n  4. 检查 partition dtypes 是否兼容\n  5. 调用 op(*inner_args, **inner_kwargs)\n  6. 验证输出形状兼容性\n  7. 使用 RaggedTensor._from_nested_row_partitions 构造结果\n- 依赖辅助函数：\n  - _replace_ragged_with_flat_values: 递归替换 RaggedTensor\n  - _merge_partition_lists: 合并 RowPartition 列表\n- 副作用：无 I/O、随机性或全局状态修改\n\n## 7. 示例与用法\n```python\n>>> rt = tf.ragged.constant([[1, 2, 3], [], [4, 5], [6]])\n>>> tf.ragged.map_flat_values(tf.ones_like, rt)\n<tf.RaggedTensor [[1, 1, 1], [], [1, 1], [1]]>\n>>> tf.ragged.map_flat_values(tf.multiply, rt, rt)\n<tf.RaggedTensor [[1, 4, 9], [], [16, 25], [36]]>\n>>> tf.ragged.map_flat_values(tf.add, rt, 5)\n<tf.RaggedTensor [[6, 7, 8], [], [9, 10], [11]]>\n```\n\n## 8. 风险与空白\n- 模块包含多个实体，但 map_flat_values 是主要公共 API\n- 未提供 op 参数的具体类型注解\n- 缺少对 op 返回张量形状的完整约束说明\n- 需要测试的边界情况：\n  - 无 RaggedTensor 输入时的行为\n  - 多个 RaggedTensor 输入但 nested_row_splits 不同的错误处理\n  - flat_values 外维度大小不匹配的情况\n  - partition dtypes 不兼容时的自动转换行为\n  - 嵌套数据结构（列表、元组、字典）中的 RaggedTensor 处理\n- 缺少对 op 函数签名的详细约束说明",
    "requirements.md": "# tensorflow.python.ops.ragged.ragged_functional_ops 测试需求\n\n## 1. 目标与范围\n- 主要功能：对 RaggedTensor 的 flat_values 应用操作 op，保持 ragged 结构\n- 期望行为：替换 args/kwargs 中的 RaggedTensor 为 flat_values，应用 op，用原 nested_row_splits 重建 RaggedTensor\n- 不在范围：不测试 op 应用到 RaggedTensor 每一行（与 tf.map_fn 不同）\n\n## 2. 输入与约束\n- op (callable)：可调用对象，必须保持最外层维度大小不变\n- *args：位置参数，可包含 RaggedTensor 或其他类型\n- **kwargs：关键字参数，可包含 RaggedTensor 或其他类型\n- 有效约束：\n  - 多个 RaggedTensor 输入时，必须具有相同的 nested_row_splits\n  - op 返回值的 shape[0] 必须匹配 RaggedTensor flat_values 的 shape[0]\n  - partition dtypes 必须兼容或可自动转换\n- 随机性/全局状态：无随机性或全局状态修改\n\n## 3. 输出与判定\n- 期望返回：RaggedTensor 对象\n- ragged_rank：与所有输入 RaggedTensor 的 ragged_rank 匹配\n- 无 RaggedTensor 输入时：直接返回 op(*args, **kwargs)\n- 容差：浮点运算误差遵循 TensorFlow 标准容差\n- 状态变化：无副作用，不修改输入参数\n\n## 4. 错误与异常场景\n- 非法输入：op 不是可调用对象\n- 维度不匹配：多个 RaggedTensor 的 nested_row_splits 不同\n- 形状违规：op 返回值 shape[0] 与 flat_values shape[0] 不匹配\n- 边界值：\n  - 空 RaggedTensor（如 `tf.ragged.constant([])`）\n  - 全空行的 RaggedTensor（如 `tf.ragged.constant([[], []])`）\n  - 单元素 RaggedTensor\n  - 极端形状（超大 ragged_rank，超长 flat_values）\n- 类型错误：partition dtypes 不兼容且无法自动转换\n\n## 5. 依赖与环境\n- 外部依赖：TensorFlow RaggedTensor 实现\n- 需要 mock 的部分：\n  - `tensorflow.python.ops.ragged.ragged_functional_ops._replace_ragged_with_flat_values`\n  - `tensorflow.python.ops.ragged.ragged_functional_ops._merge_partition_lists`\n  - `tensorflow.python.ops.ragged.ragged_tensor.RaggedTensor._from_nested_row_partitions`\n- 设备要求：支持 CPU 和 GPU（如可用）\n\n## 6. 覆盖与优先级\n- 必测路径（高优先级）：\n  1. 单个 RaggedTensor 输入，简单 op（如 tf.ones_like）\n  2. 多个 RaggedTensor 输入，相同 nested_row_splits\n  3. 无 RaggedTensor 输入，直接调用 op\n  4. RaggedTensor 在嵌套结构（列表/字典）中\n  5. op 返回值 shape[0] 不匹配的错误处理\n- 可选路径（中/低优先级）：\n  - 混合类型参数（RaggedTensor + 普通张量 + 标量）\n  - 不同 partition dtypes 的自动转换\n  - 极端形状和边界值\n  - 复杂 op 函数（多参数、关键字参数）\n  - 性能测试（大规模数据）\n- 已知风险/缺失信息：\n  - op 参数的具体类型注解缺失\n  - op 返回张量形状的完整约束说明不足\n  - 嵌套数据结构深度限制未定义\n  - 内存使用边界未说明",
    "test_plan.json": "{\n  \"plan_version\": 2,\n  \"target\": \"tensorflow.python.ops.ragged.ragged_functional_ops\",\n  \"block_rules\": {\n    \"header_block\": \"HEADER\",\n    \"footer_block\": \"FOOTER\",\n    \"case_prefix\": \"CASE_\",\n    \"case_format\": \"CASE_01\"\n  },\n  \"iteration_strategy\": {\n    \"round1\": {\"include\": \"SMOKE_SET\", \"assert_level\": \"weak\", \"max_blocks\": 5},\n    \"roundN\": {\"only_fix_failed_blocks\": true, \"block_limit\": 3, \"promote_deferred\": true},\n    \"final\": {\"enable_strong_asserts\": true, \"coverage_optional\": true}\n  },\n  \"test_files\": {\n    \"default\": \"tests/test_tensorflow_python_ops_ragged_ragged_functional_ops.py\",\n    \"all_pattern\": \"tests/test_tensorflow_python_ops_ragged_ragged_functional_ops.py\"\n  },\n  \"cases\": [\n    {\n      \"tc_id\": \"TC-01\",\n      \"block_id\": \"CASE_01\",\n      \"name\": \"单个RaggedTensor输入_简单op\",\n      \"priority\": \"High\",\n      \"param_matrix\": [\n        {\n          \"op\": \"tf.ones_like\",\n          \"args\": [\"tf.ragged.constant([[1, 2, 3], [], [4, 5], [6]])\"],\n          \"kwargs\": {},\n          \"expected_ragged_rank\": 1,\n          \"expected_shape\": [4, null]\n        }\n      ],\n      \"asserts\": {\n        \"weak\": [\"ragged_rank\", \"shape\", \"dtype\", \"basic_property\"],\n        \"strong\": [\"approx_equal\", \"exact_values\", \"nested_row_splits\"]\n      },\n      \"oracle\": \"manual_verification\",\n      \"assertion_level\": \"weak\",\n      \"size\": \"S\",\n      \"max_lines\": 80,\n      \"max_params\": 6,\n      \"is_parametrized\": true,\n      \"requires_mock\": false,\n      \"mock_targets\": []\n    },\n    {\n      \"tc_id\": \"TC-02\",\n      \"block_id\": \"CASE_02\",\n      \"name\": \"多个RaggedTensor输入_相同nested_row_splits\",\n      \"priority\": \"High\",\n      \"param_matrix\": [\n        {\n          \"op\": \"tf.multiply\",\n          \"args\": [\n            \"tf.ragged.constant([[1, 2, 3], [], [4, 5], [6]])\",\n            \"tf.ragged.constant([[1, 2, 3], [], [4, 5], [6]])\"\n          ],\n          \"kwargs\": {},\n          \"expected_ragged_rank\": 1,\n          \"expected_shape\": [4, null]\n        }\n      ],\n      \"asserts\": {\n        \"weak\": [\"ragged_rank\", \"shape\", \"dtype\", \"basic_property\"],\n        \"strong\": [\"approx_equal\", \"exact_values\", \"nested_row_splits\"]\n      },\n      \"oracle\": \"manual_verification\",\n      \"assertion_level\": \"weak\",\n      \"size\": \"S\",\n      \"max_lines\": 80,\n      \"max_params\": 6,\n      \"is_parametrized\": true,\n      \"requires_mock\": false,\n      \"mock_targets\": []\n    },\n    {\n      \"tc_id\": \"TC-03\",\n      \"block_id\": \"CASE_03\",\n      \"name\": \"无RaggedTensor输入_直接调用op\",\n      \"priority\": \"High\",\n      \"param_matrix\": [\n        {\n          \"op\": \"tf.add\",\n          \"args\": [\"tf.constant([1, 2, 3])\", \"tf.constant([4, 5, 6])\"],\n          \"kwargs\": {},\n          \"expected_shape\": [3]\n        }\n      ],\n      \"asserts\": {\n        \"weak\": [\"shape\", \"dtype\", \"basic_property\"],\n        \"strong\": [\"approx_equal\", \"exact_values\"]\n      },\n      \"oracle\": \"tf.add\",\n      \"assertion_level\": \"weak\",\n      \"size\": \"S\",\n      \"max_lines\": 80,\n      \"max_params\": 6,\n      \"is_parametrized\": true,\n      \"requires_mock\": false,\n      \"mock_targets\": []\n    },\n    {\n      \"tc_id\": \"TC-04\",\n      \"block_id\": \"CASE_04\",\n      \"name\": \"RaggedTensor在嵌套结构中\",\n      \"priority\": \"High\",\n      \"param_matrix\": [\n        {\n          \"op\": \"tf.ones_like\",\n          \"args\": [\"[tf.ragged.constant([[1, 2], [3]])]\"],\n          \"kwargs\": {},\n          \"expected_ragged_rank\": 1,\n          \"expected_shape\": [2, null]\n        }\n      ],\n      \"asserts\": {\n        \"weak\": [\"ragged_rank\", \"shape\", \"dtype\", \"basic_property\"],\n        \"strong\": [\"approx_equal\", \"exact_values\", \"nested_row_splits\"]\n      },\n      \"oracle\": \"manual_verification\",\n      \"assertion_level\": \"weak\",\n      \"size\": \"S\",\n      \"max_lines\": 80,\n      \"max_params\": 6,\n      \"is_parametrized\": true,\n      \"requires_mock\": false,\n      \"mock_targets\": []\n    },\n    {\n      \"tc_id\": \"TC-05\",\n      \"block_id\": \"CASE_05\",\n      \"name\": \"op返回值shape不匹配_错误处理\",\n      \"priority\": \"High\",\n      \"param_matrix\": [\n        {\n          \"op\": \"lambda x: tf.constant([1, 2])\",\n          \"args\": [\"tf.ragged.constant([[1, 2, 3], [4, 5]])\"],\n          \"kwargs\": {},\n          \"expect_error\": true,\n          \"error_type\": \"ValueError\"\n        }\n      ],\n      \"asserts\": {\n        \"weak\": [\"error_raised\", \"error_type\"],\n        \"strong\": [\"error_message\", \"error_context\"]\n      },\n      \"oracle\": \"manual_verification\",\n      \"assertion_level\": \"weak\",\n      \"size\": \"S\",\n      \"max_lines\": 80,\n      \"max_params\": 6,\n      \"is_parametrized\": true,\n      \"requires_mock\": false,\n      \"mock_targets\": []\n    }\n  ],\n  \"param_extensions\": [\n    {\n      \"base_block_id\": \"CASE_01\",\n      \"priority\": \"Medium\",\n      \"params\": {\n        \"op\": \"tf.zeros_like\",\n        \"args\": [\"tf.ragged.constant([[1.0, 2.0], [3.0]])\"],\n        \"kwargs\": {},\n        \"expected_ragged_rank\": 1,\n        \"expected_shape\": [2, null]\n      },\n      \"note\": \"作为参数扩展：不同op函数\"\n    },\n    {\n      \"base_block_id\": \"CASE_01\",\n      \"priority\": \"Medium\",\n      \"params\": {\n        \"op\": \"tf.ones_like\",\n        \"args\": [\"tf.ragged.constant([[], [], []])\"],\n        \"kwargs\": {},\n        \"expected_ragged_rank\": 1,\n        \"expected_shape\": [3, null]\n      },\n      \"note\": \"作为参数扩展：全空行RaggedTensor\"\n    },\n    {\n      \"base_block_id\": \"CASE_02\",\n      \"priority\": \"Medium\",\n      \"params\": {\n        \"op\": \"tf.add\",\n        \"args\": [\n          \"tf.ragged.constant([[1, 2], [3, 4, 5]])\",\n          \"tf.ragged.constant([[10, 20], [30, 40, 50]])\"\n        ],\n        \"kwargs\": {},\n        \"expected_ragged_rank\": 1,\n        \"expected_shape\": [2, null]\n      },\n      \"note\": \"作为参数扩展：不同形状的RaggedTensor\"\n    },\n    {\n      \"base_block_id\": \"CASE_02\",\n      \"priority\": \"Medium\",\n      \"params\": {\n        \"op\": \"tf.multiply\",\n        \"args\": [\n          \"tf.ragged.constant([[1, 2], [3]])\",\n          \"tf.constant(5)\"\n        ],\n        \"kwargs\": {},\n        \"expected_ragged_rank\": 1,\n        \"expected_shape\": [2, null]\n      },\n      \"note\": \"作为参数扩展：RaggedTensor与标量混合\"\n    },\n    {\n      \"base_block_id\": \"CASE_03\",\n      \"priority\": \"Medium\",\n      \"params\": {\n        \"op\": \"tf.subtract\",\n        \"args\": [\"tf.constant([10, 20, 30])\", \"tf.constant([1, 2, 3])\"],\n        \"kwargs\": {},\n        \"expected_shape\": [3]\n      },\n      \"note\": \"作为参数扩展：不同op函数\"\n    }\n  ],\n  \"smoke_set\": [\"CASE_01\", \"CASE_02\", \"CASE_03\"],\n  \"deferred_set\": [\"CASE_04\", \"CASE_05\"]\n}",
    "test_plan.md": "# tensorflow.python.ops.ragged.ragged_functional_ops 测试计划\n\n## 1. 测试策略\n- 单元测试框架：pytest\n- 隔离策略：使用 pytest fixtures 管理 TensorFlow 会话和资源\n- 随机性处理：固定随机种子确保测试可重复性\n- 设备隔离：优先使用 CPU 设备，避免 GPU 依赖\n\n## 2. 生成规格摘要（来自 test_plan.json）\n- **SMOKE_SET**: CASE_01, CASE_02, CASE_03\n- **DEFERRED_SET**: CASE_04, CASE_05\n- **测试文件路径**: tests/test_tensorflow_python_ops_ragged_ragged_functional_ops.py\n- **断言分级策略**: 首轮使用 weak 断言（形状、类型、基本属性），后续启用 strong 断言（近似相等、精确值、嵌套行分割）\n- **预算策略**: 每个用例 size=S，max_lines=80，max_params=6，全部参数化\n\n## 3. 数据与边界\n- **正常数据集**: 使用 tf.ragged.constant 创建典型 RaggedTensor（如 [[1,2,3], [], [4,5], [6]]）\n- **随机生成策略**: 固定种子生成随机形状和值的 RaggedTensor\n- **边界值**: 空 RaggedTensor、全空行、单元素、极端 ragged_rank\n- **极端形状**: 超大 flat_values 长度、深度嵌套结构\n- **空输入**: tf.ragged.constant([]) 和 tf.ragged.constant([[], []])\n- **负例与异常场景**:\n  - op 不是可调用对象\n  - 多个 RaggedTensor nested_row_splits 不同\n  - op 返回值 shape[0] 不匹配\n  - partition dtypes 不兼容\n  - 嵌套数据结构深度超限\n\n## 4. 覆盖映射\n| TC_ID | 需求/约束覆盖 | 优先级 |\n|-------|--------------|--------|\n| TC-01 | 单个 RaggedTensor 输入，简单 op | High |\n| TC-02 | 多个 RaggedTensor 输入，相同 nested_row_splits | High |\n| TC-03 | 无 RaggedTensor 输入，直接调用 op | High |\n| TC-04 | RaggedTensor 在嵌套结构（列表）中 | High |\n| TC-05 | op 返回值 shape[0] 不匹配的错误处理 | High |\n\n## 5. 尚未覆盖的风险点\n- 复杂嵌套数据结构（字典、元组混合）\n- 不同 partition dtypes 的自动转换行为\n- 大规模数据性能边界\n- op 函数签名验证的完整性\n- 内存使用和资源泄漏风险\n\n## 6. 迭代策略\n- **首轮**: 仅生成 SMOKE_SET（3个核心用例），使用 weak 断言\n- **后续轮次**: 修复失败用例，逐步启用 deferred_set\n- **最终轮次**: 启用 strong 断言，可选覆盖率检查\n\n## 7. 依赖管理\n- 无需 mock 核心函数（首轮）\n- 后续可能需要 mock 辅助函数以隔离测试\n- 设备要求：优先 CPU，避免测试环境差异",
    "tests/test_tensorflow_python_ops_ragged_ragged_functional_ops.py": "\"\"\"\nTest cases for tensorflow.python.ops.ragged.ragged_functional_ops.map_flat_values\n\"\"\"\nimport math\nimport pytest\nimport tensorflow as tf\nfrom tensorflow.python.ops.ragged import ragged_functional_ops\n\n\n# ==== BLOCK:HEADER START ====\n# ==== BLOCK:HEADER END ====\n\n\n# ==== BLOCK:CASE_01 START ====\n# ==== BLOCK:CASE_01 END ====\n\n\n# ==== BLOCK:CASE_02 START ====\n# ==== BLOCK:CASE_02 END ====\n\n\n# ==== BLOCK:CASE_03 START ====\n# ==== BLOCK:CASE_03 END ====\n\n\n# ==== BLOCK:CASE_04 START ====\n# ==== BLOCK:CASE_04 END ====\n\n\n# ==== BLOCK:CASE_05 START ====\n# ==== BLOCK:CASE_05 END ====\n\n\n# ==== BLOCK:FOOTER START ====\n# ==== BLOCK:FOOTER END ====",
    "execution_log.txt": "=== Run Tests ===\n...................F......                                               [100%]\n=================================== FAILURES ===================================\n____________ test_ragged_tensor_in_nested_structure[ragged_in_dict] ____________\n\nop = <function <lambda> at 0x14c8cd5a0>\nargs = {'x': <tf.RaggedTensor [[10, 20], [30]]>}, kwargs = {}\nexpected_ragged_rank = 1, expected_shape = [2, None]\n\n    @pytest.mark.parametrize(\n        \"op,args,kwargs,expected_ragged_rank,expected_shape\",\n        [\n            # Base case from test plan: RaggedTensor in nested structure (list)\n            (\n                tf.ones_like,\n                [tf.ragged.constant([[1, 2], [3]])],  # Single RaggedTensor in a list\n                {},\n                1,\n                [2, None]\n            ),\n            # Additional case: RaggedTensor in a tuple\n            (\n                lambda x: tf.multiply(x, 2),  # Double the values\n                (tf.ragged.constant([[4, 5], [6, 7, 8]]),),  # RaggedTensor in a tuple\n                {},\n                1,\n                [2, None]\n            ),\n            # Additional case: RaggedTensor in a dictionary (as value)\n            # Note: This test is problematic because when we pass a dict as args[0],\n            # the lambda function receives the dict itself, not the RaggedTensor inside it.\n            # We need to adjust the test to work correctly.\n            (\n                lambda d: tf.add(d['x'], 1),  # Access RaggedTensor from dict\n                {\"x\": tf.ragged.constant([[10, 20], [30]])},  # RaggedTensor in dict value\n                {},\n                1,\n                [2, None]\n            ),\n            # Additional case: Multiple RaggedTensors in nested structures\n            # Note: This test fails because the nested structures cause issues with\n            # how map_flat_values processes the arguments. We need to simplify this test.\n            # Instead of nested structures, we'll test with direct RaggedTensors\n            # but with different structures to verify error handling.\n            (\n                tf.add,\n                [\n                    tf.ragged.constant([[1, 2], [3]]),\n                    tf.ragged.constant([[4, 5], [6]])\n                ],\n                {},\n                1,\n                [2, None]\n            ),\n            # Additional case: Empty RaggedTensor in nested structure\n            (\n                tf.ones_like,\n                [tf.ragged.constant([])],  # Empty RaggedTensor in list\n                {},\n                0,\n                [0]\n            ),\n        ],\n        ids=[\n            \"ragged_in_list\",\n            \"ragged_in_tuple\",\n            \"ragged_in_dict\",\n            \"multiple_ragged_simple\",  # Changed from multiple_nested_ragged\n            \"empty_ragged_in_nested\"\n        ]\n    )\n    def test_ragged_tensor_in_nested_structure(op, args, kwargs, expected_ragged_rank, expected_shape):\n        \"\"\"Test map_flat_values with RaggedTensor inside nested structures.\"\"\"\n        # Apply map_flat_values\n>       result = ragged_functional_ops.map_flat_values(op, *args, **kwargs)\n\ntests/test_tensorflow_python_ops_ragged_ragged_functional_ops.py:387: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/python/util/traceback_utils.py:153: in error_handler\n    raise e.with_traceback(filtered_tb) from None\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nd = 'x'\n\n>               lambda d: tf.add(d['x'], 1),  # Access RaggedTensor from dict\n                {\"x\": tf.ragged.constant([[10, 20], [30]])},  # RaggedTensor in dict value\n                {},\n                1,\n                [2, None]\n            ),\n            # Additional case: Multiple RaggedTensors in nested structures\n            # Note: This test fails because the nested structures cause issues with\n            # how map_flat_values processes the arguments. We need to simplify this test.\n            # Instead of nested structures, we'll test with direct RaggedTensors\n            # but with different structures to verify error handling.\n            (\n                tf.add,\n                [\n                    tf.ragged.constant([[1, 2], [3]]),\n                    tf.ragged.constant([[4, 5], [6]])\n                ],\n                {},\n                1,\n                [2, None]\n            ),\n            # Additional case: Empty RaggedTensor in nested structure\n            (\n                tf.ones_like,\n                [tf.ragged.constant([])],  # Empty RaggedTensor in list\n                {},\n                0,\n                [0]\n            ),\n        ],\n        ids=[\n            \"ragged_in_list\",\n            \"ragged_in_tuple\",\n            \"ragged_in_dict\",\n            \"multiple_ragged_simple\",  # Changed from multiple_nested_ragged\n            \"empty_ragged_in_nested\"\n        ]\n    )\nE   TypeError: string indices must be integers\n\ntests/test_tensorflow_python_ops_ragged_ragged_functional_ops.py:346: TypeError\n=============================== warnings summary ===============================\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:18\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:18: DeprecationWarning: Call to deprecated create function FileDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    DESCRIPTOR = _descriptor.FileDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:36\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:36: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:43\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:43: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:29\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:29: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _TENSORSHAPEPROTO_DIM = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:73\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:73: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:80\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:80: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:66\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:66: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _TENSORSHAPEPROTO = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:19\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:19: DeprecationWarning: Call to deprecated create function FileDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    DESCRIPTOR = _descriptor.FileDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:33\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:33: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:37\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:37: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:41\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:41: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:45\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:45: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:49\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:49: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:53\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:53: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:57\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:57: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:61\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:61: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:65\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:65: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:69\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:69: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:73\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:73: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:77\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:77: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:81\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:81: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:85\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:85: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:89\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:89: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:93\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:93: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:97\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:97: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:101\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:101: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:105\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:105: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:109\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:109: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:113\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:113: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:117\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:117: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:121\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:121: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:125\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:125: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:129\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:129: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:133\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:133: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:137\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:137: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:141\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:141: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:145\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:145: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:149\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:149: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:153\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:153: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:157\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:157: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:161\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:161: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:165\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:165: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:169\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:169: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:173\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:173: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:177\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:177: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:181\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:181: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:185\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:185: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:189\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:189: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:193\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:193: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:197\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:197: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:201\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:201: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:205\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:205: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:209\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:209: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:213\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:213: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:217\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:217: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:27\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:27: DeprecationWarning: Call to deprecated create function EnumDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _DATATYPE = _descriptor.EnumDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:20\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:20: DeprecationWarning: Call to deprecated create function FileDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    DESCRIPTOR = _descriptor.FileDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:39\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:39: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:46\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:46: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:32\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:32: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _RESOURCEHANDLEPROTO_DTYPEANDSHAPE = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:76\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:76: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:83\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:83: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:90\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:90: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:97\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:97: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:104\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:104: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:111\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:111: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:69\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:69: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _RESOURCEHANDLEPROTO = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:21\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:21: DeprecationWarning: Call to deprecated create function FileDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    DESCRIPTOR = _descriptor.FileDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:40\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:40: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:47\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:47: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:54\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:54: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:61\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:61: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:68\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:68: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:75\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:75: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:82\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:82: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:89\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:89: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:96\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:96: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:103\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:103: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:110\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:110: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:117\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:117: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:124\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:124: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:131\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:131: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:138\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:138: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:145\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:145: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:152\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:152: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:33\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:33: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _TENSORPROTO = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:183\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:183: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:190\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:190: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:197\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:197: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:176\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:176: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _VARIANTTENSORDATAPROTO = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:21\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:21: DeprecationWarning: Call to deprecated create function FileDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    DESCRIPTOR = _descriptor.FileDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:40\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:40: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:47\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:47: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:54\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:54: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:61\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:61: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:68\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:68: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:75\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:75: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:82\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:82: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:89\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:89: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:33\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:33: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _ATTRVALUE_LISTVALUE = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/python/framework/dtypes.py:205\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/python/framework/dtypes.py:205: DeprecationWarning: `np.bool8` is a deprecated alias for `np.bool_`.  (Deprecated NumPy 1.24)\n    np.bool8: (False, True),\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/flatbuffers/compat.py:19\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/flatbuffers/compat.py:19: DeprecationWarning: the imp module is deprecated in favour of importlib and slated for removal in Python 3.12; see the module's documentation for alternative uses\n    import imp\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:326\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:326: DeprecationWarning: `np.bool8` is a deprecated alias for `np.bool_`.  (Deprecated NumPy 1.24)\n    np.bool8: (False, True),\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n================================ tests coverage ================================\n______________ coverage: platform darwin, python 3.10.19-final-0 _______________\n\nName                                                               Stmts   Miss Branch BrPart  Cover   Missing\n--------------------------------------------------------------------------------------------------------------\ntests/test_tensorflow_python_ops_ragged_ragged_functional_ops.py     157     21     92     14    81%   264, 265->exit, 414-419, 437-440, 446, 452->456, 458->468, 460->468, 462->468, 473->exit, 482-484, 488-490, 582-583, 592-594, 606\n--------------------------------------------------------------------------------------------------------------\nTOTAL                                                                157     21     92     14    81%\nCoverage XML written to file coverage.xml\n=========================== short test summary info ============================\nFAILED tests/test_tensorflow_python_ops_ragged_ragged_functional_ops.py::test_ragged_tensor_in_nested_structure[ragged_in_dict]\n1 failed, 25 passed, 103 warnings in 2.04s\n\nError: exit 1",
    "exit_code.txt": "1",
    "analysis_plan.json": "{\n  \"status\": \"未完全通过\",\n  \"passed\": 25,\n  \"failed\": 1,\n  \"errors\": 0,\n  \"collection_errors\": false,\n  \"block_limit\": 3,\n  \"failures\": [\n    {\n      \"test\": \"test_ragged_tensor_in_nested_structure[ragged_in_dict]\",\n      \"block_id\": \"CASE_04\",\n      \"error_type\": \"TypeError\",\n      \"action\": \"rewrite_block\",\n      \"note\": \"字典作为args参数传递错误：map_flat_values期望位置参数而非关键字参数\"\n    }\n  ],\n  \"deferred\": [],\n  \"stop_recommended\": false,\n  \"stop_reason\": \"\"\n}",
    "analysis.md": "# 测试执行分析报告\n\n## 状态与统计\n- **状态**: 未完全通过\n- **通过**: 25 个测试用例\n- **失败**: 1 个测试用例\n- **错误**: 0 个测试错误\n- **集合错误**: 无\n\n## 待修复 BLOCK 列表 (≤3)\n\n### 1. CASE_04 - RaggedTensor在嵌套结构中\n- **Action**: rewrite_block\n- **Error Type**: TypeError\n- **问题**: 字典作为args参数传递错误：map_flat_values期望位置参数而非关键字参数\n- **影响测试**: ragged_in_dict\n- **修复建议**: 修改测试用例，将字典作为单个位置参数传递，或调整lambda函数以正确处理字典结构\n\n## 停止建议\n- **stop_recommended**: false\n- **stop_reason**: 无",
    "final_report.md": "# tensorflow.python.ops.ragged.ragged_functional_ops 测试报告\n\n## 1. 执行摘要\n**map_flat_values 函数基本功能正常，但在处理嵌套字典结构时存在参数传递问题**；核心功能（单个/多个RaggedTensor、无RaggedTensor输入）已通过25个测试用例，仅1个用例因字典参数处理失败。\n\n## 2. 测试范围\n- **目标FQN**: tensorflow.python.ops.ragged.ragged_functional_ops.map_flat_values\n- **测试环境**: pytest + TensorFlow RaggedTensor实现，优先CPU设备\n- **覆盖场景**:\n  - 单个RaggedTensor输入，简单op（如tf.ones_like）\n  - 多个RaggedTensor输入，相同nested_row_splits\n  - 无RaggedTensor输入，直接调用op\n  - RaggedTensor在嵌套列表结构中\n  - 边界值：空RaggedTensor、全空行、单元素\n- **未覆盖项**:\n  - RaggedTensor在嵌套字典结构中的处理（CASE_04失败）\n  - op返回值shape[0]不匹配的错误处理（CASE_05 deferred）\n  - 不同partition dtypes的自动转换\n  - 复杂嵌套数据结构（字典、元组混合）\n  - 极端形状和性能边界\n\n## 3. 结果概览\n- **用例总数**: 26个（SMOKE_SET 3个 + DEFERRED_SET 2个，全部参数化）\n- **通过**: 25个（96.2%通过率）\n- **失败**: 1个（CASE_04）\n- **错误**: 0个\n- **主要失败点**: CASE_04中字典作为args参数传递时出现TypeError\n\n## 4. 详细发现\n\n### 高优先级问题\n**CASE_04 - RaggedTensor在嵌套字典结构中**\n- **严重级别**: 高（阻塞关键功能验证）\n- **问题描述**: 测试用例尝试将字典作为位置参数传递给map_flat_values，但函数期望字典中的RaggedTensor作为独立参数处理\n- **根因**: map_flat_values的*args参数展开机制与字典结构不兼容，字典被当作单个位置参数而非参数容器\n- **修复建议**: \n  1. 修改测试用例，将字典内容展开为位置参数\n  2. 或创建包装函数处理字典到位置参数的转换\n  3. 验证map_flat_values是否支持嵌套字典中的RaggedTensor提取\n\n### 中优先级关注点\n**文档与实现一致性**\n- **问题**: 函数文档缺少op参数的具体类型注解和返回张量形状的完整约束说明\n- **影响**: 测试用例设计依赖源码分析而非正式文档\n- **建议**: 补充函数签名类型注解，明确op函数的约束条件\n\n## 5. 覆盖与风险\n- **需求覆盖**: 高优先级需求覆盖80%（5个核心场景中4个已验证）\n- **已验证功能**:\n  - 单个RaggedTensor的flat_values操作\n  - 多个相同结构RaggedTensor的并行操作\n  - 无RaggedTensor时的直接op调用\n  - 嵌套列表中的RaggedTensor处理\n- **尚未覆盖的边界**:\n  - 错误处理路径：nested_row_splits不匹配、shape[0]不匹配\n  - 复杂数据结构：混合类型参数、深度嵌套\n  - 类型兼容性：partition dtypes自动转换\n- **缺失信息风险**:\n  - 嵌套数据结构深度限制未定义\n  - 内存使用边界未说明\n  - 大规模数据性能特征未知\n\n## 6. 后续动作\n\n### 立即执行（P0）\n1. **修复CASE_04测试用例**\n   - 修改ragged_in_dict测试，正确处理字典参数传递\n   - 验证map_flat_values对嵌套字典的支持能力\n   - 预计工作量：2小时\n\n### 短期计划（P1）\n2. **启用CASE_05测试**\n   - 实现op返回值shape[0]不匹配的错误处理验证\n   - 添加负例测试确保正确抛出异常\n   - 预计工作量：4小时\n\n3. **补充边界测试**\n   - 添加不同partition dtypes的兼容性测试\n   - 验证极端形状（超大ragged_rank、超长flat_values）\n   - 预计工作量：6小时\n\n### 中期计划（P2）\n4. **增强断言级别**\n   - 从weak断言升级到strong断言（精确值、嵌套行分割验证）\n   - 添加浮点运算容差验证\n   - 预计工作量：8小时\n\n5. **覆盖复杂场景**\n   - 混合类型参数（RaggedTensor + 普通张量 + 标量）\n   - 复杂op函数（多参数、关键字参数组合）\n   - 预计工作量：10小时\n\n### 长期建议\n6. **文档完善**\n   - 补充函数类型注解和约束说明\n   - 明确嵌套数据结构处理规则\n   - 建议纳入TensorFlow官方文档更新\n\n7. **性能基准**\n   - 添加大规模数据性能测试\n   - 建立内存使用基线\n   - 建议作为独立性能测试套件\n\n**风险评估**: 当前测试表明核心功能稳定，字典参数处理是唯一阻塞项。修复后即可获得高置信度的测试覆盖，为后续功能演进提供可靠保障。"
  },
  "stage_history": [
    {
      "stage": "understand_function",
      "status": "completed",
      "timestamp": "2026-01-25T08:22:29.783186",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "generate_requirements",
      "status": "completed",
      "timestamp": "2026-01-25T08:23:03.915585",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "design_test_plan",
      "status": "completed",
      "timestamp": "2026-01-25T08:24:43.806361",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "generate_code",
      "status": "completed",
      "timestamp": "2026-01-25T08:27:19.449779",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "execute_tests",
      "status": "completed",
      "timestamp": "2026-01-25T08:27:21.739248",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "analyze_results",
      "status": "completed",
      "timestamp": "2026-01-25T08:28:10.233896",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "generate_code",
      "status": "completed",
      "timestamp": "2026-01-25T08:29:31.206430",
      "attempts": 2,
      "error": null
    },
    {
      "stage": "execute_tests",
      "status": "completed",
      "timestamp": "2026-01-25T08:29:33.298013",
      "attempts": 2,
      "error": null
    },
    {
      "stage": "analyze_results",
      "status": "completed",
      "timestamp": "2026-01-25T08:31:04.776206",
      "attempts": 2,
      "error": null
    },
    {
      "stage": "generate_code",
      "status": "completed",
      "timestamp": "2026-01-25T08:32:07.282358",
      "attempts": 3,
      "error": null
    },
    {
      "stage": "execute_tests",
      "status": "completed",
      "timestamp": "2026-01-25T08:32:09.552380",
      "attempts": 3,
      "error": null
    },
    {
      "stage": "analyze_results",
      "status": "completed",
      "timestamp": "2026-01-25T08:32:57.776356",
      "attempts": 3,
      "error": null
    },
    {
      "stage": "generate_code",
      "status": "completed",
      "timestamp": "2026-01-25T08:37:32.970073",
      "attempts": 4,
      "error": null
    },
    {
      "stage": "execute_tests",
      "status": "completed",
      "timestamp": "2026-01-25T08:37:36.035474",
      "attempts": 4,
      "error": null
    },
    {
      "stage": "analyze_results",
      "status": "completed",
      "timestamp": "2026-01-25T08:38:53.503996",
      "attempts": 4,
      "error": null
    },
    {
      "stage": "generate_code",
      "status": "completed",
      "timestamp": "2026-01-25T08:43:02.835676",
      "attempts": 5,
      "error": null
    },
    {
      "stage": "execute_tests",
      "status": "completed",
      "timestamp": "2026-01-25T08:43:05.514294",
      "attempts": 5,
      "error": null
    },
    {
      "stage": "analyze_results",
      "status": "completed",
      "timestamp": "2026-01-25T08:44:11.218476",
      "attempts": 5,
      "error": null
    },
    {
      "stage": "generate_report",
      "status": "completed",
      "timestamp": "2026-01-25T08:45:02.340136",
      "attempts": 1,
      "error": null
    }
  ],
  "user_feedback": []
}