{
  "plan_version": 2,
  "target": "tensorflow.python.eager.remote",
  "block_rules": {
    "header_block": "HEADER",
    "footer_block": "FOOTER",
    "case_prefix": "CASE_",
    "case_format": "CASE_01"
  },
  "iteration_strategy": {
    "round1": {"include": "SMOKE_SET", "assert_level": "weak", "max_blocks": 5},
    "roundN": {"only_fix_failed_blocks": true, "block_limit": 3, "promote_deferred": true},
    "final": {"enable_strong_asserts": true, "coverage_optional": true}
  },
  "test_files": {
    "default": "tests/test_tensorflow_python_eager_remote.py",
    "all_pattern": "tests/test_tensorflow_python_eager_remote_*.py",
    "groups": {
      "G1": "tests/test_tensorflow_python_eager_remote_g1.py",
      "G2": "tests/test_tensorflow_python_eager_remote_g2.py"
    }
  },
  "active_group_order": ["G1", "G2"],
  "groups": [
    {
      "group_id": "G1",
      "title": "单主机连接功能",
      "entrypoints": ["connect_to_remote_host"],
      "smoke_set": ["CASE_01", "CASE_02"],
      "deferred_set": ["CASE_05"],
      "note": "测试单主机连接的基本功能和参数验证"
    },
    {
      "group_id": "G2",
      "title": "集群连接功能",
      "entrypoints": ["connect_to_cluster"],
      "smoke_set": ["CASE_03", "CASE_04"],
      "deferred_set": ["CASE_06", "CASE_07"],
      "note": "测试集群连接、eager模式要求和设备配置"
    }
  ],
  "cases": [
    {
      "tc_id": "TC-01",
      "block_id": "CASE_01",
      "group_id": "G1",
      "name": "单主机连接基本功能",
      "priority": "High",
      "param_matrix": [
        {"remote_host": "localhost:12345", "job_name": "worker", "requires_mock": true}
      ],
      "asserts": {
        "weak": ["no_exception", "mock_called", "context_updated"],
        "strong": ["server_def_correct", "job_name_set", "host_port_parsed"]
      },
      "oracle": "无返回值，验证副作用",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 70,
      "max_params": 3,
      "is_parametrized": false,
      "requires_mock": true
    },
    {
      "tc_id": "TC-02",
      "block_id": "CASE_02",
      "group_id": "G1",
      "name": "参数默认值验证",
      "priority": "High",
      "param_matrix": [
        {"remote_host": "127.0.0.1:8080", "job_name": "default_worker", "requires_mock": true}
      ],
      "asserts": {
        "weak": ["no_exception", "default_job_name", "mock_called_once"],
        "strong": ["exact_job_name", "host_resolution", "protocol_default"]
      },
      "oracle": "默认job_name应为'worker'",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 65,
      "max_params": 2,
      "is_parametrized": false,
      "requires_mock": true
    },
    {
      "tc_id": "TC-03",
      "block_id": "CASE_03",
      "group_id": "G2",
      "name": "集群连接eager模式要求",
      "priority": "High",
      "param_matrix": [
        {"cluster_spec": {"worker": ["localhost:2222"]}, "job_name": "localhost", "task_index": 0, "requires_mock": true}
      ],
      "asserts": {
        "weak": ["no_exception_in_eager", "mock_called", "context_check"],
        "strong": ["eager_mode_required", "server_def_created", "local_job_added"]
      },
      "oracle": "必须在eager模式下调用",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 75,
      "max_params": 4,
      "is_parametrized": false,
      "requires_mock": true
    },
    {
      "tc_id": "TC-04",
      "block_id": "CASE_04",
      "group_id": "G2",
      "name": "多次调用覆盖机制",
      "priority": "High",
      "param_matrix": [
        {"first_host": "host1:1111", "second_host": "host2:2222", "job_name": "worker", "requires_mock": true}
      ],
      "asserts": {
        "weak": ["no_exception", "mock_called_twice", "update_called"],
        "strong": ["old_handle_invalidated", "new_config_active", "context_replaced"]
      },
      "oracle": "第二次调用应覆盖第一次配置",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 80,
      "max_params": 4,
      "is_parametrized": false,
      "requires_mock": true
    }
  ],
  "param_extensions": [
    {
      "base_block_id": "CASE_01",
      "priority": "Medium",
      "params": {"remote_host": ["host1:1111", "host2:2222"], "job_name": "multi_worker", "requires_mock": true},
      "note": "多主机列表参数扩展"
    },
    {
      "base_block_id": "CASE_02",
      "priority": "Medium",
      "params": {"remote_host": "192.168.1.100:9999", "job_name": "custom_job", "requires_mock": true},
      "note": "自定义job_name参数扩展"
    },
    {
      "base_block_id": "CASE_03",
      "priority": "Medium",
      "params": {"cluster_spec": {"ps": ["ps0:3333", "ps1:3334"], "worker": ["worker0:4444"]}, "job_name": "client", "task_index": 1, "requires_mock": true},
      "note": "复杂集群规范参数扩展"
    }
  ],
  "smoke_set": ["CASE_01", "CASE_02", "CASE_03", "CASE_04"],
  "deferred_set": ["CASE_05", "CASE_06", "CASE_07"]
}