{
  "workflow_id": "835428c6",
  "created_at": "2026-01-25T15:19:24.432265",
  "op": "tensorflow_python_ops_signal_shape_ops",
  "arch": "python",
  "soc": "python",
  "vendor": "python",
  "project_root": "/Users/zzf1sh/Documents/Project/TestAgent-CLI-main/exam/tensorflow/python.ops.signal.shape_ops",
  "target": "tensorflow.python.ops.signal.shape_ops",
  "target_slug": "tensorflow_python_ops_signal_shape_ops",
  "current_stage": "complete",
  "stage_index": 6,
  "mode": "full-auto",
  "epoch_total": 5,
  "epoch_current": 5,
  "last_failure_signature": "",
  "last_error_signature": "",
  "last_block_errors": {},
  "auto_stop_reason": "",
  "artifacts": {
    "function_doc.md": "# tensorflow.python.ops.signal.shape_ops - 函数说明\n\n## 1. 基本信息\n- **FQN**: tensorflow.python.ops.signal.shape_ops\n- **模块文件**: `/opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/python/ops/signal/shape_ops.py`\n- **签名**: frame(signal, frame_length, frame_step, pad_end=False, pad_value=0, axis=-1, name=None)\n- **对象类型**: 模块（包含主要函数 `frame`）\n\n## 2. 功能概述\n- 将信号张量的指定轴维度展开为帧\n- 使用滑动窗口（大小为 `frame_length`）以步长 `frame_step` 在指定轴上滑动\n- 将原始轴替换为 `[frames, frame_length]` 的帧结构\n\n## 3. 参数说明\n- **signal** (Tensor): 输入信号张量，形状为 `[..., samples, ...]`，秩至少为1\n- **frame_length** (int/Tensor): 帧长度（样本数），标量\n- **frame_step** (int/Tensor): 帧步长（样本数），标量\n- **pad_end** (bool/False): 是否在信号末尾填充，默认False\n- **pad_value** (scalar Tensor/0): 填充值，当 `pad_end=True` 时使用\n- **axis** (int Tensor/-1): 要分帧的轴索引，支持负值从末尾索引\n- **name** (str/None): 操作名称\n\n## 4. 返回值\n- **Tensor**: 帧张量，形状为 `[..., num_frames, frame_length, ...]`\n- 帧数计算：\n  - `pad_end=False`: `num_frames = 1 + (N - frame_length) // frame_step`\n  - `pad_end=True`: `num_frames = -(-N // frame_step)`（向上取整除法）\n\n## 5. 文档要点\n- 输入信号秩必须至少为1\n- `frame_length`, `frame_step`, `pad_value`, `axis` 必须是标量\n- 支持负轴索引\n- 当 `pad_end=True` 时，超出信号末尾的窗口位置用 `pad_value` 填充\n\n## 6. 源码摘要\n- 关键路径：\n  1. 验证输入张量秩和参数标量性\n  2. 推断结果形状（`_infer_frame_shape` 辅助函数）\n  3. 处理轴索引（支持负值转正值）\n  4. 若 `pad_end=True`，计算填充并填充信号\n  5. 计算子帧长度（使用 `util_ops.gcd` 求最大公约数）\n  6. 使用 `strided_slice` 和 `reshape` 提取子帧\n  7. 构造选择器索引，使用 `gather` 组装帧\n- 依赖：`array_ops`, `math_ops`, `util_ops`, `tensor_util`\n- 副作用：无I/O、随机性或全局状态修改\n\n## 7. 示例与用法\n```python\n# 音频信号分帧示例\naudio = tf.random.normal([3, 9152])\nframes = tf.signal.frame(audio, 512, 180)  # 形状 [3, 49, 512]\nframes_padded = tf.signal.frame(audio, 512, 180, pad_end=True)  # 形状 [3, 51, 512]\n```\n\n## 8. 风险与空白\n- 模块包含多个实体：主要函数 `frame` 和辅助函数 `_infer_frame_shape`\n- 未明确指定支持的dtype范围\n- 未提供 `frame_length` 和 `frame_step` 的数值约束（如必须为正数）\n- 未说明 `pad_value` 类型是否必须与 `signal` 的dtype兼容\n- 缺少对极端情况的详细说明（如 `frame_length > signal` 维度长度）\n- 需要测试的边界：零长度信号、负轴值、大帧长/步长、不同类型组合",
    "requirements.md": "# tensorflow.python.ops.signal.shape_ops 测试需求\n\n## 1. 目标与范围\n- 主要功能与期望行为\n  - 验证 `frame` 函数正确将信号张量沿指定轴展开为帧\n  - 测试滑动窗口（大小 `frame_length`，步长 `frame_step`）的分帧逻辑\n  - 验证 `pad_end` 和 `pad_value` 参数对末尾填充的影响\n  - 确保负轴索引的正确处理\n- 不在范围内的内容\n  - 不测试模块内部辅助函数 `_infer_frame_shape` 的独立行为\n  - 不验证 TensorFlow 基础张量操作（如 `strided_slice`, `gather`）的正确性\n  - 不涉及信号处理算法（如 FFT、滤波）的数学正确性\n\n## 2. 输入与约束\n- 参数列表（名称、类型/shape、默认值）\n  - `signal`: Tensor，秩≥1，形状 `[..., samples, ...]`\n  - `frame_length`: int/Tensor 标量，无默认值\n  - `frame_step`: int/Tensor 标量，无默认值\n  - `pad_end`: bool，默认 `False`\n  - `pad_value`: scalar Tensor，默认 `0`\n  - `axis`: int Tensor，默认 `-1`\n  - `name`: str，默认 `None`\n- 有效取值范围/维度/设备要求\n  - `signal` 秩必须至少为1\n  - `frame_length`, `frame_step`, `pad_value`, `axis` 必须是标量\n  - `axis` 支持负索引（-1表示最后一个轴）\n  - 所有参数支持 CPU/GPU 设备\n- 必需与可选组合\n  - `signal`, `frame_length`, `frame_step` 为必需参数\n  - `pad_end`, `pad_value`, `axis`, `name` 为可选参数\n  - `pad_value` 仅在 `pad_end=True` 时生效\n- 随机性/全局状态要求\n  - 无随机性操作\n  - 无全局状态修改\n\n## 3. 输出与判定\n- 期望返回结构及关键字段\n  - 返回 Tensor，形状 `[..., num_frames, frame_length, ...]`\n  - 帧数计算：\n    - `pad_end=False`: `num_frames = 1 + (N - frame_length) // frame_step`\n    - `pad_end=True`: `num_frames = -(-N // frame_step)`（向上取整除法）\n- 容差/误差界（如浮点）\n  - 浮点类型（float16/32/64）允许机器精度误差\n  - 整数类型要求精确匹配\n  - 填充值 `pad_value` 必须精确匹配\n- 状态变化或副作用检查点\n  - 无 I/O 操作\n  - 无全局变量修改\n  - 输入张量保持不变\n\n## 4. 错误与异常场景\n- 非法输入/维度/类型触发的异常或警告\n  - `signal` 秩为0（标量）应触发异常\n  - `frame_length` 或 `frame_step` 为非标量应触发异常\n  - `axis` 超出有效范围（`-rank <= axis < rank`）应触发异常\n  - `frame_length` 或 `frame_step` 非正整数应触发异常\n  - `pad_value` 与 `signal` dtype 不兼容应触发异常\n- 边界值（空、None、0 长度、极端形状/数值）\n  - `signal` 沿 `axis` 维度长度为0\n  - `frame_length` > 信号沿 `axis` 维度长度\n  - `frame_step` = 0\n  - `frame_length` = 0\n  - 极大 `frame_length` 或 `frame_step` 值\n  - 负 `frame_length` 或 `frame_step`\n  - `axis` = 0（第一个轴）和 `axis` = -1（最后一个轴）边界\n\n## 5. 依赖与环境\n- 外部资源/设备/网络/文件依赖\n  - TensorFlow 运行时环境\n  - 无网络或文件系统依赖\n- 需要 mock/monkeypatch 的部分\n  - `tensorflow.python.ops.signal.shape_ops.util_ops.gcd`（最大公约数计算）\n  - `tensorflow.python.ops.array_ops.strided_slice`\n  - `tensorflow.python.ops.array_ops.gather`\n  - `tensorflow.python.ops.math_ops.floordiv`\n  - `tensorflow.python.framework.tensor_util.constant_value`\n\n## 6. 覆盖与优先级\n- 必测路径（高优先级，最多 5 条，短句）\n  1. 基本分帧功能：正常信号，`pad_end=False`，默认 `axis=-1`\n  2. 末尾填充：`pad_end=True`，验证填充值和帧数计算\n  3. 负轴索引：`axis=-1` 和 `axis=-2` 的正确处理\n  4. 边界条件：`frame_length` > 信号长度，`pad_end=False/True`\n  5. 数据类型：float16/32/64，int8/16/32/64 的兼容性\n- 可选路径（中/低优先级合并为一组列表）\n  - 多维信号（秩≥3）的分帧\n  - 不同设备（CPU/GPU）的一致性\n  - 大张量性能（内存使用验证）\n  - `frame_length` 和 `frame_step` 为 Tensor 对象\n  - `pad_value` 为不同标量类型\n  - `name` 参数的正确传递\n- 已知风险/缺失信息（仅列条目，不展开）\n  - 未明确支持的 dtype 完整列表\n  - `pad_value` 类型转换规则\n  - 极端大值（接近 int64 上限）的处理\n  - 稀疏张量的支持情况\n  - 梯度计算正确性",
    "test_plan.json": "{\n  \"plan_version\": 2,\n  \"target\": \"tensorflow.python.ops.signal.shape_ops\",\n  \"block_rules\": {\n    \"header_block\": \"HEADER\",\n    \"footer_block\": \"FOOTER\",\n    \"case_prefix\": \"CASE_\",\n    \"case_format\": \"CASE_01\"\n  },\n  \"iteration_strategy\": {\n    \"round1\": {\n      \"include\": \"SMOKE_SET\",\n      \"assert_level\": \"weak\",\n      \"max_blocks\": 5\n    },\n    \"roundN\": {\n      \"only_fix_failed_blocks\": true,\n      \"block_limit\": 3,\n      \"promote_deferred\": true\n    },\n    \"final\": {\n      \"enable_strong_asserts\": true,\n      \"coverage_optional\": true\n    }\n  },\n  \"test_files\": {\n    \"default\": \"tests/test_tensorflow_python_ops_signal_shape_ops.py\",\n    \"all_pattern\": \"tests/test_tensorflow_python_ops_signal_shape_ops.py\"\n  },\n  \"cases\": [\n    {\n      \"tc_id\": \"TC-01\",\n      \"block_id\": \"CASE_01\",\n      \"name\": \"基本分帧功能\",\n      \"priority\": \"High\",\n      \"param_matrix\": [\n        {\n          \"signal_shape\": [3, 9152],\n          \"dtype\": \"float32\",\n          \"frame_length\": 512,\n          \"frame_step\": 180,\n          \"pad_end\": false,\n          \"pad_value\": 0,\n          \"axis\": -1,\n          \"device\": \"cpu\"\n        }\n      ],\n      \"asserts\": {\n        \"weak\": [\"output_shape\", \"dtype_match\", \"no_nan_inf\", \"basic_frame_structure\"],\n        \"strong\": [\"exact_frame_values\", \"frame_boundary_consistency\", \"gradient_check\"]\n      },\n      \"oracle\": \"manual_calculation\",\n      \"assertion_level\": \"weak\",\n      \"size\": \"S\",\n      \"max_lines\": 80,\n      \"max_params\": 6,\n      \"is_parametrized\": true,\n      \"requires_mock\": false,\n      \"mock_targets\": []\n    },\n    {\n      \"tc_id\": \"TC-02\",\n      \"block_id\": \"CASE_02\",\n      \"name\": \"末尾填充功能\",\n      \"priority\": \"High\",\n      \"param_matrix\": [\n        {\n          \"signal_shape\": [3, 9152],\n          \"dtype\": \"float32\",\n          \"frame_length\": 512,\n          \"frame_step\": 180,\n          \"pad_end\": true,\n          \"pad_value\": 0,\n          \"axis\": -1,\n          \"device\": \"cpu\"\n        }\n      ],\n      \"asserts\": {\n        \"weak\": [\"output_shape\", \"dtype_match\", \"pad_value_correct\", \"frame_count_ceil\"],\n        \"strong\": [\"exact_padding_positions\", \"padding_consistency\", \"gradient_check\"]\n      },\n      \"oracle\": \"manual_calculation\",\n      \"assertion_level\": \"weak\",\n      \"size\": \"S\",\n      \"max_lines\": 80,\n      \"max_params\": 6,\n      \"is_parametrized\": true,\n      \"requires_mock\": false,\n      \"mock_targets\": []\n    },\n    {\n      \"tc_id\": \"TC-03\",\n      \"block_id\": \"CASE_03\",\n      \"name\": \"负轴索引处理\",\n      \"priority\": \"High\",\n      \"param_matrix\": [\n        {\n          \"signal_shape\": [3, 9152],\n          \"dtype\": \"float32\",\n          \"frame_length\": 512,\n          \"frame_step\": 180,\n          \"pad_end\": false,\n          \"pad_value\": 0,\n          \"axis\": -2,\n          \"device\": \"cpu\"\n        }\n      ],\n      \"asserts\": {\n        \"weak\": [\"output_shape\", \"dtype_match\", \"axis_correct\", \"no_nan_inf\"],\n        \"strong\": [\"axis_equivalence\", \"negative_axis_consistency\", \"gradient_check\"]\n      },\n      \"oracle\": \"axis_transformation\",\n      \"assertion_level\": \"weak\",\n      \"size\": \"S\",\n      \"max_lines\": 80,\n      \"max_params\": 6,\n      \"is_parametrized\": true,\n      \"requires_mock\": false,\n      \"mock_targets\": []\n    },\n    {\n      \"tc_id\": \"TC-04\",\n      \"block_id\": \"CASE_04\",\n      \"name\": \"边界条件：帧长大于信号长度\",\n      \"priority\": \"High\",\n      \"param_matrix\": [\n        {\n          \"signal_shape\": [3, 100],\n          \"dtype\": \"float32\",\n          \"frame_length\": 200,\n          \"frame_step\": 50,\n          \"pad_end\": false,\n          \"pad_value\": 0,\n          \"axis\": -1,\n          \"device\": \"cpu\"\n        }\n      ],\n      \"asserts\": {\n        \"weak\": [\"output_shape\", \"dtype_match\", \"no_nan_inf\", \"empty_or_single_frame\"],\n        \"strong\": [\"frame_extraction_logic\", \"edge_case_handling\", \"exception_consistency\"]\n      },\n      \"oracle\": \"manual_calculation\",\n      \"assertion_level\": \"weak\",\n      \"size\": \"S\",\n      \"max_lines\": 80,\n      \"max_params\": 6,\n      \"is_parametrized\": true,\n      \"requires_mock\": false,\n      \"mock_targets\": []\n    },\n    {\n      \"tc_id\": \"TC-05\",\n      \"block_id\": \"CASE_05\",\n      \"name\": \"数据类型兼容性\",\n      \"priority\": \"High\",\n      \"param_matrix\": [\n        {\n          \"signal_shape\": [3, 9152],\n          \"dtype\": \"int32\",\n          \"frame_length\": 512,\n          \"frame_step\": 180,\n          \"pad_end\": false,\n          \"pad_value\": 0,\n          \"axis\": -1,\n          \"device\": \"cpu\"\n        }\n      ],\n      \"asserts\": {\n        \"weak\": [\"output_shape\", \"dtype_match\", \"no_overflow\", \"exact_values\"],\n        \"strong\": [\"dtype_promotion\", \"type_conversion\", \"gradient_check\"]\n      },\n      \"oracle\": \"manual_calculation\",\n      \"assertion_level\": \"weak\",\n      \"size\": \"S\",\n      \"max_lines\": 80,\n      \"max_params\": 6,\n      \"is_parametrized\": true,\n      \"requires_mock\": false,\n      \"mock_targets\": []\n    }\n  ],\n  \"param_extensions\": [\n    {\n      \"base_block_id\": \"CASE_01\",\n      \"priority\": \"Medium\",\n      \"params\": {\n        \"signal_shape\": [1, 2048],\n        \"dtype\": \"float64\",\n        \"frame_length\": 256,\n        \"frame_step\": 128,\n        \"pad_end\": false,\n        \"pad_value\": 0,\n        \"axis\": -1,\n        \"device\": \"cpu\"\n      },\n      \"note\": \"不同形状和dtype的参数扩展\"\n    },\n    {\n      \"base_block_id\": \"CASE_02\",\n      \"priority\": \"Medium\",\n      \"params\": {\n        \"signal_shape\": [2, 1024],\n        \"dtype\": \"float32\",\n        \"frame_length\": 128,\n        \"frame_step\": 64,\n        \"pad_end\": true,\n        \"pad_value\": -1.0,\n        \"axis\": -1,\n        \"device\": \"cpu\"\n      },\n      \"note\": \"非零填充值的参数扩展\"\n    },\n    {\n      \"base_block_id\": \"CASE_03\",\n      \"priority\": \"Medium\",\n      \"params\": {\n        \"signal_shape\": [4, 512, 256],\n        \"dtype\": \"float32\",\n        \"frame_length\": 64,\n        \"frame_step\": 32,\n        \"pad_end\": false,\n        \"pad_value\": 0,\n        \"axis\": -2,\n        \"device\": \"cpu\"\n      },\n      \"note\": \"多维信号和负轴索引的参数扩展\"\n    },\n    {\n      \"base_block_id\": \"CASE_04\",\n      \"priority\": \"Medium\",\n      \"params\": {\n        \"signal_shape\": [3, 100],\n        \"dtype\": \"float32\",\n        \"frame_length\": 200,\n        \"frame_step\": 50,\n        \"pad_end\": true,\n        \"pad_value\": 0,\n        \"axis\": -1,\n        \"device\": \"cpu\"\n      },\n      \"note\": \"边界条件带填充的参数扩展\"\n    },\n    {\n      \"base_block_id\": \"CASE_05\",\n      \"priority\": \"Medium\",\n      \"params\": {\n        \"signal_shape\": [3, 9152],\n        \"dtype\": \"float16\",\n        \"frame_length\": 512,\n        \"frame_step\": 180,\n        \"pad_end\": false,\n        \"pad_value\": 0,\n        \"axis\": -1,\n        \"device\": \"cpu\"\n      },\n      \"note\": \"不同浮点类型的参数扩展\"\n    }\n  ],\n  \"smoke_set\": [\"CASE_01\", \"CASE_02\", \"CASE_03\"],\n  \"deferred_set\": [\"CASE_04\", \"CASE_05\"]\n}",
    "test_plan.md": "# tensorflow.python.ops.signal.shape_ops 测试计划\n\n## 1. 测试策略\n- 单元测试框架：pytest\n- 隔离策略：mock/monkeypatch/fixtures\n- 随机性处理：固定随机种子/控制 RNG\n\n## 2. 生成规格摘要（来自 test_plan.json）\n- SMOKE_SET: CASE_01, CASE_02, CASE_03\n- DEFERRED_SET: CASE_04, CASE_05\n- 测试文件路径：tests/test_tensorflow_python_ops_signal_shape_ops.py\n- 断言分级策略：首轮使用weak断言，最终轮启用strong断言\n- 预算策略：每个CASE最多80行，最多6个参数，size为S\n\n## 3. 数据与边界\n- 正常数据集：随机生成符合形状的Tensor，固定随机种子\n- 边界值：零长度信号、帧长大于信号长度、负轴值\n- 极端形状：大张量（内存验证）、多维信号（秩≥3）\n- 空输入：沿axis维度长度为0的信号\n- 负例场景：非标量参数、无效轴索引、非正整数帧长/步长\n- 异常场景：dtype不兼容、梯度计算异常\n\n## 4. 覆盖映射\n- TC-01 (CASE_01): 基本分帧功能，验证核心算法\n- TC-02 (CASE_02): 末尾填充功能，验证pad_end和pad_value\n- TC-03 (CASE_03): 负轴索引处理，验证axis参数\n- TC-04 (CASE_04): 边界条件处理，验证异常情况\n- TC-05 (CASE_05): 数据类型兼容性，验证不同dtype支持\n\n## 5. 尚未覆盖的风险点\n- 未明确支持的dtype完整列表\n- pad_value类型转换规则\n- 极端大值（接近int64上限）的处理\n- 稀疏张量的支持情况\n- 梯度计算正确性\n- GPU设备一致性",
    "tests/test_tensorflow_python_ops_signal_shape_ops.py": "\"\"\"\nUnit tests for tensorflow.python.ops.signal.shape_ops module.\n\"\"\"\nimport math\nimport numpy as np\nimport pytest\nimport tensorflow as tf\nfrom tensorflow.python.ops.signal.shape_ops import frame\n\n# ==== BLOCK:HEADER START ====\n# Test fixtures and helper functions\n# ==== BLOCK:HEADER END ====\n\n# ==== BLOCK:CASE_01 START ====\n# Placeholder for CASE_01: 基本分帧功能\n# ==== BLOCK:CASE_01 END ====\n\n# ==== BLOCK:CASE_02 START ====\n# Placeholder for CASE_02: 末尾填充功能\n# ==== BLOCK:CASE_02 END ====\n\n# ==== BLOCK:CASE_03 START ====\n# Placeholder for CASE_03: 负轴索引处理\n# ==== BLOCK:CASE_03 END ====\n\n# ==== BLOCK:CASE_04 START ====\n# Placeholder for CASE_04: 边界条件：帧长大于信号长度\n# ==== BLOCK:CASE_04 END ====\n\n# ==== BLOCK:CASE_05 START ====\n# Placeholder for CASE_05: 数据类型兼容性\n# ==== BLOCK:CASE_05 END ====\n\n# ==== BLOCK:FOOTER START ====\n# Additional test cases and cleanup\n# ==== BLOCK:FOOTER END ====",
    "execution_log.txt": "=== Run Tests ===\n..FF.............                                                        [100%]\n=================================== FAILURES ===================================\n_ test_frame_pad_end_functionality[signal_shape0-dtype0-512-180-True-0--1-cpu] _\n\nsignal_shape = [3, 9152], dtype = tf.float32, frame_length = 512\nframe_step = 180, pad_end = True, pad_value = 0, axis = -1, device = 'cpu'\n\n    @pytest.mark.parametrize(\n        \"signal_shape,dtype,frame_length,frame_step,pad_end,pad_value,axis,device\",\n        [\n            # Base case from test plan\n            ([3, 9152], tf.float32, 512, 180, True, 0, -1, \"cpu\"),\n            # Parameter extension\n            ([2, 1024], tf.float32, 128, 64, True, -1.0, -1, \"cpu\"),\n        ]\n    )\n    def test_frame_pad_end_functionality(\n        signal_shape, dtype, frame_length, frame_step, pad_end, pad_value, axis, device\n    ):\n        \"\"\"\n        Test frame functionality with end padding.\n    \n        TC-02: 末尾填充功能\n        \"\"\"\n        # Set random seed for reproducibility\n        set_random_seed()\n    \n        # Create test signal\n        signal = create_test_signal(signal_shape, dtype)\n    \n        # Call frame function\n        frames = frame(\n            signal=signal,\n            frame_length=frame_length,\n            frame_step=frame_step,\n            pad_end=pad_end,\n            pad_value=pad_value,\n            axis=axis,\n        )\n    \n        # Weak assertions (round 1)\n        # 1. Output shape verification\n        expected_shape = list(signal_shape)\n        n = signal_shape[axis if axis >= 0 else len(signal_shape) + axis]\n    \n        # With pad_end=True, use ceiling division\n        num_frames = -(-n // frame_step)  # ceiling division\n    \n        expected_shape[axis if axis >= 0 else len(signal_shape) + axis] = num_frames\n        expected_shape.insert(\n            axis + 1 if axis >= 0 else len(signal_shape) + axis + 1,\n            frame_length\n        )\n    \n        assert frames.shape == tuple(expected_shape), \\\n            f\"Expected shape {tuple(expected_shape)}, got {frames.shape}\"\n    \n        # 2. dtype match\n        assert frames.dtype == dtype, \\\n            f\"Expected dtype {dtype}, got {frames.dtype}\"\n    \n        # 3. Pad value correctness for padded frames\n        frames_np = frames.numpy()\n        signal_np = signal.numpy()\n    \n        # Convert axis to positive index\n        if axis < 0:\n            axis_pos = len(signal_shape) + axis\n        else:\n            axis_pos = axis\n    \n        # Check each frame for correct padding\n        for i in range(num_frames):\n            start = i * frame_step\n            end = start + frame_length\n    \n            # Get the frame\n            frame_slices = [slice(None)] * len(frames_np.shape)\n            frame_slices[axis_pos] = i\n            frame_data = frames_np[tuple(frame_slices)]\n    \n            if end <= n:\n                # Full frame - should match signal slice\n                slices = [slice(None)] * len(signal_shape)\n                slices[axis_pos] = slice(start, end)\n                expected_slice = signal_np[tuple(slices)]\n    \n                if dtype in [tf.float16, tf.float32, tf.float64]:\n                    np.testing.assert_allclose(\n                        frame_data, expected_slice, rtol=1e-5, atol=1e-5,\n                        err_msg=f\"Full frame {i} mismatch\"\n                    )\n                else:\n                    np.testing.assert_array_equal(\n                        frame_data, expected_slice,\n                        err_msg=f\"Full frame {i} mismatch\"\n                    )\n            else:\n                # Partial frame - check padding\n                valid_len = n - start\n    \n                # Check valid part\n                if valid_len > 0:\n                    slices = [slice(None)] * len(signal_shape)\n                    slices[axis_pos] = slice(start, n)\n                    expected_valid = signal_np[tuple(slices)]\n    \n                    # Compare valid part\n                    if dtype in [tf.float16, tf.float32, tf.float64]:\n                        np.testing.assert_allclose(\n                            frame_data[..., :valid_len], expected_valid,\n                            rtol=1e-5, atol=1e-5,\n                            err_msg=f\"Valid part of padded frame {i} mismatch\"\n                        )\n                    else:\n                        np.testing.assert_array_equal(\n                            frame_data[..., :valid_len], expected_valid,\n                            err_msg=f\"Valid part of padded frame {i} mismatch\"\n                        )\n    \n                # Check padded part\n                if valid_len < frame_length:\n                    padded_part = frame_data[..., valid_len:]\n                    if dtype in [tf.float16, tf.float32, tf.float64]:\n                        expected_pad = np.full_like(padded_part, pad_value, dtype=padded_part.dtype)\n                        np.testing.assert_allclose(\n                            padded_part, expected_pad, rtol=1e-5, atol=1e-5,\n                            err_msg=f\"Padding in frame {i} mismatch\"\n                        )\n                    else:\n                        expected_pad = np.full_like(padded_part, pad_value, dtype=padded_part.dtype)\n                        np.testing.assert_array_equal(\n                            padded_part, expected_pad,\n                            err_msg=f\"Padding in frame {i} mismatch\"\n                        )\n    \n        # 4. Frame count verification (ceiling division)\n        assert num_frames == -(-n // frame_step), \\\n            f\"Expected { -(-n // frame_step)} frames with ceiling division, got {num_frames}\"\n    \n        # Strong assertions (final round)\n        # 1. exact_padding_positions - verify exact padding positions\n        for i in range(num_frames):\n            start = i * frame_step\n            end = start + frame_length\n    \n            # Get the frame\n            frame_slices = [slice(None)] * len(frames_np.shape)\n            frame_slices[axis_pos] = i\n            frame_data = frames_np[tuple(frame_slices)]\n    \n            if end > n:\n                # This frame should have padding\n                valid_len = n - start\n    \n                # Verify padding starts exactly at valid_len\n                if valid_len > 0:\n                    # The element at index valid_len should be pad_value\n                    # Create indexing for the first element after valid part\n                    if dtype in [tf.float16, tf.float32, tf.float64]:\n                        # Check with tolerance\n                        if valid_len < frame_length:\n                            padding_start_value = frame_data[..., valid_len]\n                            if dtype == tf.float16:\n                                rtol, atol = 1e-3, 1e-3\n                            else:\n                                rtol, atol = 1e-7, 1e-7\n    \n                            np.testing.assert_allclose(\n                                padding_start_value, pad_value,\n                                rtol=rtol, atol=atol,\n                                err_msg=f\"Padding start position incorrect in frame {i}\"\n                            )\n                    else:\n                        # Integer types - exact equality\n                        if valid_len < frame_length:\n                            padding_start_value = frame_data[..., valid_len]\n                            assert padding_start_value == pad_value, \\\n                                f\"Padding start position incorrect in frame {i}: expected {pad_value}, got {padding_start_value}\"\n    \n        # 2. padding_consistency - verify padding is consistent across all padded positions\n        for i in range(num_frames):\n            start = i * frame_step\n            end = start + frame_length\n    \n            if end > n:\n                # This frame has padding\n                valid_len = n - start\n    \n                # Get the frame\n                frame_slices = [slice(None)] * len(frames_np.shape)\n                frame_slices[axis_pos] = i\n                frame_data = frames_np[tuple(frame_slices)]\n    \n                # Check all padded positions\n                if valid_len < frame_length:\n                    padded_part = frame_data[..., valid_len:]\n    \n                    # Verify all padded values are exactly pad_value\n                    if dtype in [tf.float16, tf.float32, tf.float64]:\n                        # Use compute_expected_frames for comparison\n>                       expected_frames = compute_expected_frames(\n                            signal, frame_length, frame_step, pad_end=True, pad_value=pad_value, axis=axis\n                        )\nE                       TypeError: compute_expected_frames() got an unexpected keyword argument 'pad_value'\n\ntests/test_tensorflow_python_ops_signal_shape_ops.py:501: TypeError\n_ test_frame_pad_end_functionality[signal_shape1-dtype1-128-64-True--1.0--1-cpu] _\n\nsignal_shape = [2, 1024], dtype = tf.float32, frame_length = 128\nframe_step = 64, pad_end = True, pad_value = -1.0, axis = -1, device = 'cpu'\n\n    @pytest.mark.parametrize(\n        \"signal_shape,dtype,frame_length,frame_step,pad_end,pad_value,axis,device\",\n        [\n            # Base case from test plan\n            ([3, 9152], tf.float32, 512, 180, True, 0, -1, \"cpu\"),\n            # Parameter extension\n            ([2, 1024], tf.float32, 128, 64, True, -1.0, -1, \"cpu\"),\n        ]\n    )\n    def test_frame_pad_end_functionality(\n        signal_shape, dtype, frame_length, frame_step, pad_end, pad_value, axis, device\n    ):\n        \"\"\"\n        Test frame functionality with end padding.\n    \n        TC-02: 末尾填充功能\n        \"\"\"\n        # Set random seed for reproducibility\n        set_random_seed()\n    \n        # Create test signal\n        signal = create_test_signal(signal_shape, dtype)\n    \n        # Call frame function\n        frames = frame(\n            signal=signal,\n            frame_length=frame_length,\n            frame_step=frame_step,\n            pad_end=pad_end,\n            pad_value=pad_value,\n            axis=axis,\n        )\n    \n        # Weak assertions (round 1)\n        # 1. Output shape verification\n        expected_shape = list(signal_shape)\n        n = signal_shape[axis if axis >= 0 else len(signal_shape) + axis]\n    \n        # With pad_end=True, use ceiling division\n        num_frames = -(-n // frame_step)  # ceiling division\n    \n        expected_shape[axis if axis >= 0 else len(signal_shape) + axis] = num_frames\n        expected_shape.insert(\n            axis + 1 if axis >= 0 else len(signal_shape) + axis + 1,\n            frame_length\n        )\n    \n        assert frames.shape == tuple(expected_shape), \\\n            f\"Expected shape {tuple(expected_shape)}, got {frames.shape}\"\n    \n        # 2. dtype match\n        assert frames.dtype == dtype, \\\n            f\"Expected dtype {dtype}, got {frames.dtype}\"\n    \n        # 3. Pad value correctness for padded frames\n        frames_np = frames.numpy()\n        signal_np = signal.numpy()\n    \n        # Convert axis to positive index\n        if axis < 0:\n            axis_pos = len(signal_shape) + axis\n        else:\n            axis_pos = axis\n    \n        # Check each frame for correct padding\n        for i in range(num_frames):\n            start = i * frame_step\n            end = start + frame_length\n    \n            # Get the frame\n            frame_slices = [slice(None)] * len(frames_np.shape)\n            frame_slices[axis_pos] = i\n            frame_data = frames_np[tuple(frame_slices)]\n    \n            if end <= n:\n                # Full frame - should match signal slice\n                slices = [slice(None)] * len(signal_shape)\n                slices[axis_pos] = slice(start, end)\n                expected_slice = signal_np[tuple(slices)]\n    \n                if dtype in [tf.float16, tf.float32, tf.float64]:\n                    np.testing.assert_allclose(\n                        frame_data, expected_slice, rtol=1e-5, atol=1e-5,\n                        err_msg=f\"Full frame {i} mismatch\"\n                    )\n                else:\n                    np.testing.assert_array_equal(\n                        frame_data, expected_slice,\n                        err_msg=f\"Full frame {i} mismatch\"\n                    )\n            else:\n                # Partial frame - check padding\n                valid_len = n - start\n    \n                # Check valid part\n                if valid_len > 0:\n                    slices = [slice(None)] * len(signal_shape)\n                    slices[axis_pos] = slice(start, n)\n                    expected_valid = signal_np[tuple(slices)]\n    \n                    # Compare valid part\n                    if dtype in [tf.float16, tf.float32, tf.float64]:\n                        np.testing.assert_allclose(\n                            frame_data[..., :valid_len], expected_valid,\n                            rtol=1e-5, atol=1e-5,\n                            err_msg=f\"Valid part of padded frame {i} mismatch\"\n                        )\n                    else:\n                        np.testing.assert_array_equal(\n                            frame_data[..., :valid_len], expected_valid,\n                            err_msg=f\"Valid part of padded frame {i} mismatch\"\n                        )\n    \n                # Check padded part\n                if valid_len < frame_length:\n                    padded_part = frame_data[..., valid_len:]\n                    if dtype in [tf.float16, tf.float32, tf.float64]:\n                        expected_pad = np.full_like(padded_part, pad_value, dtype=padded_part.dtype)\n                        np.testing.assert_allclose(\n                            padded_part, expected_pad, rtol=1e-5, atol=1e-5,\n                            err_msg=f\"Padding in frame {i} mismatch\"\n                        )\n                    else:\n                        expected_pad = np.full_like(padded_part, pad_value, dtype=padded_part.dtype)\n                        np.testing.assert_array_equal(\n                            padded_part, expected_pad,\n                            err_msg=f\"Padding in frame {i} mismatch\"\n                        )\n    \n        # 4. Frame count verification (ceiling division)\n        assert num_frames == -(-n // frame_step), \\\n            f\"Expected { -(-n // frame_step)} frames with ceiling division, got {num_frames}\"\n    \n        # Strong assertions (final round)\n        # 1. exact_padding_positions - verify exact padding positions\n        for i in range(num_frames):\n            start = i * frame_step\n            end = start + frame_length\n    \n            # Get the frame\n            frame_slices = [slice(None)] * len(frames_np.shape)\n            frame_slices[axis_pos] = i\n            frame_data = frames_np[tuple(frame_slices)]\n    \n            if end > n:\n                # This frame should have padding\n                valid_len = n - start\n    \n                # Verify padding starts exactly at valid_len\n                if valid_len > 0:\n                    # The element at index valid_len should be pad_value\n                    # Create indexing for the first element after valid part\n                    if dtype in [tf.float16, tf.float32, tf.float64]:\n                        # Check with tolerance\n                        if valid_len < frame_length:\n                            padding_start_value = frame_data[..., valid_len]\n                            if dtype == tf.float16:\n                                rtol, atol = 1e-3, 1e-3\n                            else:\n                                rtol, atol = 1e-7, 1e-7\n    \n                            np.testing.assert_allclose(\n                                padding_start_value, pad_value,\n                                rtol=rtol, atol=atol,\n                                err_msg=f\"Padding start position incorrect in frame {i}\"\n                            )\n                    else:\n                        # Integer types - exact equality\n                        if valid_len < frame_length:\n                            padding_start_value = frame_data[..., valid_len]\n                            assert padding_start_value == pad_value, \\\n                                f\"Padding start position incorrect in frame {i}: expected {pad_value}, got {padding_start_value}\"\n    \n        # 2. padding_consistency - verify padding is consistent across all padded positions\n        for i in range(num_frames):\n            start = i * frame_step\n            end = start + frame_length\n    \n            if end > n:\n                # This frame has padding\n                valid_len = n - start\n    \n                # Get the frame\n                frame_slices = [slice(None)] * len(frames_np.shape)\n                frame_slices[axis_pos] = i\n                frame_data = frames_np[tuple(frame_slices)]\n    \n                # Check all padded positions\n                if valid_len < frame_length:\n                    padded_part = frame_data[..., valid_len:]\n    \n                    # Verify all padded values are exactly pad_value\n                    if dtype in [tf.float16, tf.float32, tf.float64]:\n                        # Use compute_expected_frames for comparison\n>                       expected_frames = compute_expected_frames(\n                            signal, frame_length, frame_step, pad_end=True, pad_value=pad_value, axis=axis\n                        )\nE                       TypeError: compute_expected_frames() got an unexpected keyword argument 'pad_value'\n\ntests/test_tensorflow_python_ops_signal_shape_ops.py:501: TypeError\n=============================== warnings summary ===============================\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:18\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:18: DeprecationWarning: Call to deprecated create function FileDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    DESCRIPTOR = _descriptor.FileDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:36\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:36: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:43\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:43: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:29\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:29: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _TENSORSHAPEPROTO_DIM = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:73\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:73: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:80\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:80: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:66\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_shape_pb2.py:66: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _TENSORSHAPEPROTO = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:19\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:19: DeprecationWarning: Call to deprecated create function FileDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    DESCRIPTOR = _descriptor.FileDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:33\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:33: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:37\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:37: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:41\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:41: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:45\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:45: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:49\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:49: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:53\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:53: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:57\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:57: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:61\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:61: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:65\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:65: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:69\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:69: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:73\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:73: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:77\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:77: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:81\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:81: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:85\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:85: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:89\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:89: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:93\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:93: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:97\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:97: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:101\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:101: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:105\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:105: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:109\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:109: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:113\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:113: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:117\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:117: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:121\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:121: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:125\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:125: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:129\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:129: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:133\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:133: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:137\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:137: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:141\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:141: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:145\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:145: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:149\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:149: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:153\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:153: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:157\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:157: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:161\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:161: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:165\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:165: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:169\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:169: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:173\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:173: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:177\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:177: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:181\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:181: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:185\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:185: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:189\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:189: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:193\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:193: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:197\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:197: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:201\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:201: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:205\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:205: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:209\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:209: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:213\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:213: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:217\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:217: DeprecationWarning: Call to deprecated create function EnumValueDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.EnumValueDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:27\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/types_pb2.py:27: DeprecationWarning: Call to deprecated create function EnumDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _DATATYPE = _descriptor.EnumDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:20\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:20: DeprecationWarning: Call to deprecated create function FileDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    DESCRIPTOR = _descriptor.FileDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:39\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:39: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:46\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:46: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:32\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:32: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _RESOURCEHANDLEPROTO_DTYPEANDSHAPE = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:76\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:76: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:83\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:83: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:90\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:90: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:97\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:97: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:104\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:104: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:111\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:111: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:69\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/resource_handle_pb2.py:69: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _RESOURCEHANDLEPROTO = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:21\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:21: DeprecationWarning: Call to deprecated create function FileDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    DESCRIPTOR = _descriptor.FileDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:40\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:40: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:47\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:47: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:54\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:54: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:61\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:61: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:68\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:68: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:75\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:75: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:82\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:82: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:89\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:89: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:96\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:96: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:103\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:103: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:110\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:110: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:117\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:117: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:124\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:124: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:131\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:131: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:138\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:138: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:145\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:145: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:152\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:152: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:33\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:33: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _TENSORPROTO = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:183\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:183: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:190\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:190: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:197\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:197: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:176\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/tensor_pb2.py:176: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _VARIANTTENSORDATAPROTO = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:21\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:21: DeprecationWarning: Call to deprecated create function FileDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    DESCRIPTOR = _descriptor.FileDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:40\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:40: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:47\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:47: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:54\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:54: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:61\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:61: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:68\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:68: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:75\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:75: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:82\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:82: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:89\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:89: DeprecationWarning: Call to deprecated create function FieldDescriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _descriptor.FieldDescriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:33\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/core/framework/attr_value_pb2.py:33: DeprecationWarning: Call to deprecated create function Descriptor(). Note: Create unlinked descriptors is going to go away. Please use get/find descriptors from generated code or query the descriptor_pool.\n    _ATTRVALUE_LISTVALUE = _descriptor.Descriptor(\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/python/framework/dtypes.py:205\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/python/framework/dtypes.py:205: DeprecationWarning: `np.bool8` is a deprecated alias for `np.bool_`.  (Deprecated NumPy 1.24)\n    np.bool8: (False, True),\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/flatbuffers/compat.py:19\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/flatbuffers/compat.py:19: DeprecationWarning: the imp module is deprecated in favour of importlib and slated for removal in Python 3.12; see the module's documentation for alternative uses\n    import imp\n\n../../../../../../../../opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:326\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:326: DeprecationWarning: `np.bool8` is a deprecated alias for `np.bool_`.  (Deprecated NumPy 1.24)\n    np.bool8: (False, True),\n\nexam/tensorflow/python.ops.signal.shape_ops/tests/test_tensorflow_python_ops_signal_shape_ops.py::test_frame_invalid_inputs\n  /opt/anaconda3/envs/testagent-experiment/lib/python3.10/site-packages/tensorflow/python/ops/signal/shape_ops.py:51: RuntimeWarning: divide by zero encountered in scalar floor_divide\n    0, (frame_axis - frame_length + frame_step) // frame_step)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n================================ tests coverage ================================\n______________ coverage: platform darwin, python 3.10.19-final-0 _______________\n\nName                                                   Stmts   Miss Branch BrPart  Cover   Missing\n--------------------------------------------------------------------------------------------------\ntests/test_tensorflow_python_ops_signal_shape_ops.py     490     84    192     58    76%   41-107, 128, 130, 132, 136, 179, 197->204, 211, 214->245, 220->216, 238, 245->282, 251->247, 266, 276, 282->exit, 299, 369, 393, 402->421, 415, 421->372, 430-431, 456->442, 461->442, 464, 475-477, 481->exit, 495->481, 504-518, 570, 575, 612, 618->623, 632->628, 650, 661->690, 683, 714, 738->734, 752, 761, 809, 830->836, 846->exit, 849->exit, 863->881, 875, 881->851, 890-891, 903->exit, 950, 955, 976->1000, 982->978, 1003->1041, 1009->1005, 1027, 1044->exit, 1101-1103, 1173-1177\n--------------------------------------------------------------------------------------------------\nTOTAL                                                    490     84    192     58    76%\nCoverage XML written to file coverage.xml\n=========================== short test summary info ============================\nFAILED tests/test_tensorflow_python_ops_signal_shape_ops.py::test_frame_pad_end_functionality[signal_shape0-dtype0-512-180-True-0--1-cpu]\nFAILED tests/test_tensorflow_python_ops_signal_shape_ops.py::test_frame_pad_end_functionality[signal_shape1-dtype1-128-64-True--1.0--1-cpu]\n2 failed, 15 passed, 104 warnings in 2.41s\n\nError: exit 1",
    "exit_code.txt": "1",
    "analysis_plan.json": "{\n  \"status\": \"未完全通过\",\n  \"passed\": 15,\n  \"failed\": 2,\n  \"errors\": 0,\n  \"collection_errors\": false,\n  \"block_limit\": 3,\n  \"failures\": [\n    {\n      \"test\": \"tests/test_tensorflow_python_ops_signal_shape_ops.py::test_frame_pad_end_functionality[signal_shape0-dtype0-512-180-True-0--1-cpu]\",\n      \"block_id\": \"CASE_02\",\n      \"error_type\": \"TypeError\",\n      \"action\": \"fix_dependency\",\n      \"note\": \"compute_expected_frames函数缺少pad_value参数\"\n    }\n  ],\n  \"deferred\": [\n    {\n      \"test\": \"tests/test_tensorflow_python_ops_signal_shape_ops.py::test_frame_pad_end_functionality[signal_shape1-dtype1-128-64-True--1.0--1-cpu]\",\n      \"reason\": \"错误类型重复，跳过该块\"\n    }\n  ],\n  \"stop_recommended\": false,\n  \"stop_reason\": \"\"\n}",
    "analysis.md": "## 测试执行结果分析\n\n### 状态与统计\n- **状态**: 未完全通过\n- **通过**: 15 个测试\n- **失败**: 2 个测试\n- **错误**: 0 个测试\n- **集合错误**: 无\n\n### 待修复 BLOCK 列表 (1个)\n1. **BLOCK_ID**: CASE_02\n   - **Action**: fix_dependency\n   - **Error Type**: TypeError\n   - **问题**: compute_expected_frames函数缺少pad_value参数\n\n### 延迟处理\n- 1个测试因错误类型重复被标记为deferred\n\n### 停止建议\n- **stop_recommended**: false\n- 继续修复流程",
    "final_report.md": "# tensorflow.python.ops.signal.shape_ops 测试报告\n\n## 1. 执行摘要\n**结论**：测试基本通过，但存在一个关键依赖函数缺陷需要修复。\n\n**关键发现**：\n- 15个测试通过，2个测试失败，整体通过率88%\n- 主要阻塞项：CASE_02测试因`compute_expected_frames`辅助函数缺少`pad_value`参数而失败\n- 核心功能（基本分帧、负轴处理、边界条件、数据类型）验证正常\n\n## 2. 测试范围\n**目标FQN**: `tensorflow.python.ops.signal.shape_ops.frame`\n\n**测试环境**：\n- 框架：pytest\n- 依赖：TensorFlow运行时，numpy\n- 随机性控制：固定随机种子（42）\n- 设备：CPU（未测试GPU）\n\n**覆盖场景**：\n- ✅ 基本分帧功能（CASE_01）：验证核心算法和形状计算\n- ⚠️ 末尾填充功能（CASE_02）：验证pad_end和pad_value参数（存在缺陷）\n- ✅ 负轴索引处理（CASE_03）：验证axis参数负值支持\n- ✅ 边界条件处理（CASE_04）：验证frame_length > signal_length场景\n- ✅ 数据类型兼容性（CASE_05）：验证float16/32/64和int类型支持\n\n**未覆盖项**：\n- GPU设备一致性测试\n- 稀疏张量支持\n- 梯度计算验证\n- 极端大值（接近int64上限）处理\n- 性能测试（大张量内存使用）\n\n## 3. 结果概览\n**测试统计**：\n- 用例总数：17个（5个参数化测试 + 12个独立测试）\n- 通过：15个（88%）\n- 失败：2个（CASE_02的两个参数化测试）\n- 错误：0个\n- 集合错误：无\n\n**主要失败点**：\n1. **CASE_02测试失败**：`compute_expected_frames`函数调用时缺少`pad_value`参数\n   - 位置：`test_frame_pad_end_functionality`函数第154行\n   - 错误类型：`TypeError`\n   - 影响：无法验证pad_end=True时的填充值正确性\n\n## 4. 详细发现\n### 严重级别：高\n**问题1：辅助函数参数不匹配**\n- **描述**：`compute_expected_frames`函数定义缺少`pad_value`参数，但在CASE_02中被调用时传递了该参数\n- **根因**：函数设计时未考虑pad_end=True场景下的pad_value验证需求\n- **影响**：无法正确验证填充值的正确性，影响测试完整性\n- **建议修复**：\n  1. 更新`compute_expected_frames`函数签名，添加`pad_value`参数\n  2. 在函数内部实现pad_value填充逻辑\n  3. 重新运行CASE_02测试\n\n### 严重级别：中\n**问题2：边界条件测试覆盖不完整**\n- **描述**：虽然测试了frame_length > signal_length场景，但未测试frame_step=0的极端情况\n- **根因**：测试计划中包含了该场景，但实际测试中注释掉了相关异常验证\n- **影响**：无法确认TensorFlow对frame_step=0的实际处理行为\n- **建议修复**：根据TensorFlow实际行为调整测试预期（当前观察到frame_step=0可能产生运行时警告而非异常）\n\n### 严重级别：低\n**问题3：测试断言分级未完全实施**\n- **描述**：测试代码中标记了\"weak assertions\"和\"strong assertions\"，但实际执行时未区分轮次\n- **根因**：测试框架未实现多轮执行机制\n- **影响**：所有断言一次性执行，可能影响测试效率\n- **建议修复**：可考虑使用pytest标记或自定义fixture实现断言分级\n\n## 5. 覆盖与风险\n**需求覆盖评估**：\n- ✅ 基本功能：验证通过\n- ✅ 输入约束：验证通过（秩≥1、标量参数等）\n- ✅ 输出结构：验证通过（形状计算、dtype匹配）\n- ⚠️ 错误场景：部分覆盖（需要补充frame_step=0等场景）\n- ❌ 依赖环境：仅测试CPU，未测试GPU\n\n**尚未覆盖的边界**：\n1. **数值边界**：\n   - frame_length和frame_step接近int64上限\n   - 超大张量（内存溢出边界）\n   - 混合精度计算（float16与float32混合）\n\n2. **缺失信息**：\n   - TensorFlow对frame_length=0的实际处理逻辑（当前观察到产生警告但继续执行）\n   - 负frame_step值的实际行为（需要进一步验证）\n   - pad_value类型转换规则（隐式类型转换是否支持）\n\n3. **性能风险**：\n   - 大张量分帧的内存使用模式\n   - GPU与CPU计算结果一致性\n   - 梯度计算的内存效率\n\n## 6. 后续动作\n### 优先级：P0（立即修复）\n1. **修复辅助函数缺陷**\n   - 更新`compute_expected_frames`函数，添加`pad_value`参数\n   - 实现pad_value填充逻辑\n   - 重新运行并验证CASE_02测试\n   - 预计工作量：1-2小时\n\n### 优先级：P1（本周内完成）\n2. **补充边界条件测试**\n   - 添加frame_step=0的测试用例，根据TensorFlow实际行为调整断言\n   - 添加负frame_length/frame_step的完整测试\n   - 验证frame_length=0在各种场景下的行为\n   - 预计工作量：3-4小时\n\n3. **完善数据类型测试**\n   - 补充所有TensorFlow支持的数据类型测试\n   - 验证pad_value与signal dtype的兼容性规则\n   - 测试类型转换边界情况\n   - 预计工作量：2-3小时\n\n### 优先级：P2（下个迭代）\n4. **环境扩展测试**\n   - 添加GPU设备测试（需要GPU环境）\n   - 验证CPU/GPU计算结果一致性\n   - 测试梯度计算正确性\n   - 预计工作量：4-5小时\n\n5. **性能与内存测试**\n   - 添加大张量性能测试\n   - 监控内存使用情况\n   - 验证不同参数组合的性能特征\n   - 预计工作量：3-4小时\n\n### 优先级：P3（未来规划）\n6. **测试框架优化**\n   - 实现断言分级执行机制\n   - 添加测试覆盖率报告\n   - 优化测试数据生成逻辑\n   - 预计工作量：5-6小时\n\n**风险评估**：\n- 当前阻塞问题（CASE_02）修复后，核心功能测试通过率可达100%\n- 未覆盖的GPU测试和梯度验证可能隐藏跨设备兼容性问题\n- 边界条件测试不完整可能遗漏极端情况下的异常行为\n\n**建议**：优先修复P0问题，确保核心功能验证完整；随后按优先级逐步完善测试覆盖，重点关注生产环境中的实际使用场景。"
  },
  "stage_history": [
    {
      "stage": "understand_function",
      "status": "completed",
      "timestamp": "2026-01-25T15:20:14.971590",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "generate_requirements",
      "status": "completed",
      "timestamp": "2026-01-25T15:21:06.838565",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "design_test_plan",
      "status": "completed",
      "timestamp": "2026-01-25T15:22:44.222579",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "generate_code",
      "status": "completed",
      "timestamp": "2026-01-25T15:27:16.405261",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "execute_tests",
      "status": "completed",
      "timestamp": "2026-01-25T15:27:18.463909",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "analyze_results",
      "status": "completed",
      "timestamp": "2026-01-25T15:28:43.956784",
      "attempts": 1,
      "error": null
    },
    {
      "stage": "generate_code",
      "status": "completed",
      "timestamp": "2026-01-25T15:30:28.920095",
      "attempts": 2,
      "error": null
    },
    {
      "stage": "execute_tests",
      "status": "completed",
      "timestamp": "2026-01-25T15:30:31.187612",
      "attempts": 2,
      "error": null
    },
    {
      "stage": "analyze_results",
      "status": "completed",
      "timestamp": "2026-01-25T15:32:21.692892",
      "attempts": 2,
      "error": null
    },
    {
      "stage": "generate_code",
      "status": "completed",
      "timestamp": "2026-01-25T15:36:28.763889",
      "attempts": 3,
      "error": null
    },
    {
      "stage": "execute_tests",
      "status": "completed",
      "timestamp": "2026-01-25T15:36:31.500276",
      "attempts": 3,
      "error": null
    },
    {
      "stage": "analyze_results",
      "status": "completed",
      "timestamp": "2026-01-25T15:38:21.295018",
      "attempts": 3,
      "error": null
    },
    {
      "stage": "generate_code",
      "status": "completed",
      "timestamp": "2026-01-25T15:41:38.829098",
      "attempts": 4,
      "error": null
    },
    {
      "stage": "execute_tests",
      "status": "completed",
      "timestamp": "2026-01-25T15:41:41.705124",
      "attempts": 4,
      "error": null
    },
    {
      "stage": "analyze_results",
      "status": "completed",
      "timestamp": "2026-01-25T15:42:34.740121",
      "attempts": 4,
      "error": null
    },
    {
      "stage": "generate_code",
      "status": "completed",
      "timestamp": "2026-01-25T15:47:10.976487",
      "attempts": 5,
      "error": null
    },
    {
      "stage": "execute_tests",
      "status": "completed",
      "timestamp": "2026-01-25T15:47:13.994243",
      "attempts": 5,
      "error": null
    },
    {
      "stage": "analyze_results",
      "status": "completed",
      "timestamp": "2026-01-25T15:48:09.438945",
      "attempts": 5,
      "error": null
    },
    {
      "stage": "generate_report",
      "status": "completed",
      "timestamp": "2026-01-25T15:49:27.679070",
      "attempts": 1,
      "error": null
    }
  ],
  "user_feedback": []
}