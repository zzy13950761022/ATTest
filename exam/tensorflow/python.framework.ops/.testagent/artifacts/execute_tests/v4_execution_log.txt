=== Run Tests ===
....F.....                                                               [100%]
================================== FAILURES ===================================
___________________ test_convert_to_tensor_basic_conversion ___________________

    def test_convert_to_tensor_basic_conversion():
        """TC-08: convert_to_tensor基本转换
    
        Test plan: TC-08
        Priority: High
        Assertion level: weak
        """
        # Parameters from test plan: input_type=numpy_array, dtype=float32, shape=[3, 3], data=random
    
        # Create test data
        np.random.seed(42)
        numpy_array = np.random.randn(3, 3).astype(np.float32)
    
        # Test conversion using TensorFlow's convert_to_tensor
        # Note: tf.convert_to_tensor is the public API
        tensor = tf.convert_to_tensor(numpy_array, dtype=tf.float32)
    
        # Weak assertions from test plan
        # 1. conversion_success
        assert tensor is not None
        assert isinstance(tensor, tf.Tensor)
    
        # 2. dtype_matches
        assert tensor.dtype == tf.float32
    
        # 3. shape_matches
        assert tensor.shape.as_list() == [3, 3]
    
        # 4. value_preserved
        # In TensorFlow 2.x, we can directly convert tensor to numpy for value checking
        tensor_value = tensor.numpy()
        # Check shape and dtype match
        assert tensor_value.shape == (3, 3)
        assert tensor_value.dtype == np.float32
        # Check values are close (allow for floating point differences)
        np.testing.assert_array_almost_equal(tensor_value, numpy_array, decimal=5)
    
        # Additional conversion tests
    
        # Test without explicit dtype (should infer from numpy array)
        tensor_inferred = tf.convert_to_tensor(numpy_array)
        assert tensor_inferred.dtype == tf.float32
        assert tensor_inferred.shape.as_list() == [3, 3]
    
        # Test with name parameter - in eager mode, name is not accessible
        # So we'll test in graph mode for name property
        graph = ops.Graph()
        with graph.as_default():
            # Create tensor in graph mode to test name property
            graph_tensor_named = tf.convert_to_tensor(numpy_array, dtype=tf.float32, name="named_tensor")
            assert graph_tensor_named.name == "named_tensor:0"
    
        # Test conversion of already a tensor (should return same tensor)
        tensor_already = tf.convert_to_tensor(tensor)
        assert tensor_already is tensor
    
        # Test conversion with different dtypes
        int_array = np.array([[1, 2, 3], [4, 5, 6]], dtype=np.int32)
        int_tensor = tf.convert_to_tensor(int_array, dtype=tf.int32)
        assert int_tensor.dtype == tf.int32
        assert int_tensor.shape.as_list() == [2, 3]
    
        # Test conversion preserves graph context
        with graph.as_default():
            graph_tensor = tf.convert_to_tensor(numpy_array, dtype=tf.float32)
            assert graph_tensor.graph is graph
    
        # Test conversion of Python lists
        python_list = [[1.0, 2.0, 3.0], [4.0, 5.0, 6.0]]
        list_tensor = tf.convert_to_tensor(python_list, dtype=tf.float32)
        assert list_tensor.dtype == tf.float32
        assert list_tensor.shape.as_list() == [2, 3]
    
        # Test conversion of Python scalars
        scalar_tensor = tf.convert_to_tensor(42.0, dtype=tf.float32)
        assert scalar_tensor.dtype == tf.float32
        assert scalar_tensor.shape.as_list() == []
    
        # Test conversion with shape validation
        # This should work for compatible shapes
        reshaped_array = numpy_array.reshape(9)
        reshaped_tensor = tf.convert_to_tensor(reshaped_array, dtype=tf.float32)
        assert reshaped_tensor.shape.as_list() == [9]
    
        # Test that conversion creates proper operation in graph mode
        with graph.as_default():
            graph_tensor_for_op = tf.convert_to_tensor(numpy_array, dtype=tf.float32)
            assert graph_tensor_for_op.op is not None
            assert graph_tensor_for_op.op.type in ["Const", "Placeholder", "Identity"]  # Could be any of these
    
        # Test tensor properties after conversion
        # In eager mode, some properties like 'name' are not available
        assert hasattr(tensor, 'device')
>       assert hasattr(tensor, 'op')  # op exists but may be None in eager mode
E       AssertionError: assert False
E        +  where False = hasattr(<tf.Tensor: shape=(3, 3), dtype=float32, numpy=\narray([[ 0.49671414, -0.1382643 ,  0.64768857],\n       [ 1.5230298 , -0.23415338, -0.23413695],\n       [ 1.5792128 ,  0.7674347 , -0.46947438]], dtype=float32)>, 'op')

tests\test_tensorflow_python_framework_ops.py:607: AssertionError

---------- coverage: platform win32, python 3.9.25-final-0 -----------
Name                                            Stmts   Miss Branch BrPart  Cover   Missing
-------------------------------------------------------------------------------------------
tests\test_tensorflow_python_framework_ops.py     362     60     20      1    82%   21, 26, 30-33, 37-45, 49-52, 56-61, 65-66, 70, 488, 608-658, 765-766
-------------------------------------------------------------------------------------------
TOTAL                                             362     60     20      1    82%
Coverage XML written to file coverage.xml

=========================== short test summary info ===========================
FAILED tests\test_tensorflow_python_framework_ops.py::test_convert_to_tensor_basic_conversion
1 failed, 9 passed in 1.69s

Error: exit 1