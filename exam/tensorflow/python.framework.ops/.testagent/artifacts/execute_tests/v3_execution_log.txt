=== Run Tests ===
....F.....                                                               [100%]
================================== FAILURES ===================================
___________________ test_convert_to_tensor_basic_conversion ___________________

    def test_convert_to_tensor_basic_conversion():
        """TC-08: convert_to_tensor基本转换
    
        Test plan: TC-08
        Priority: High
        Assertion level: weak
        """
        # Parameters from test plan: input_type=numpy_array, dtype=float32, shape=[3, 3], data=random
    
        # Create test data
        np.random.seed(42)
        numpy_array = np.random.randn(3, 3).astype(np.float32)
    
        # Test conversion using TensorFlow's convert_to_tensor
        # Note: tf.convert_to_tensor is the public API
        tensor = tf.convert_to_tensor(numpy_array, dtype=tf.float32)
    
        # Weak assertions from test plan
        # 1. conversion_success
        assert tensor is not None
        assert isinstance(tensor, tf.Tensor)
    
        # 2. dtype_matches
        assert tensor.dtype == tf.float32
    
        # 3. shape_matches
        assert tensor.shape.as_list() == [3, 3]
    
        # 4. value_preserved
        # In TensorFlow 2.x, we can directly convert tensor to numpy for value checking
        tensor_value = tensor.numpy()
        # Check shape and dtype match
        assert tensor_value.shape == (3, 3)
        assert tensor_value.dtype == np.float32
        # Check values are close (allow for floating point differences)
        np.testing.assert_array_almost_equal(tensor_value, numpy_array, decimal=5)
    
        # Additional conversion tests
    
        # Test without explicit dtype (should infer from numpy array)
        tensor_inferred = tf.convert_to_tensor(numpy_array)
        assert tensor_inferred.dtype == tf.float32
        assert tensor_inferred.shape.as_list() == [3, 3]
    
        # Test with name parameter - in eager mode, name is not accessible
        # So we'll test in graph mode for name property
        graph = ops.Graph()
        with graph.as_default():
            # Create tensor in graph mode to test name property
            graph_tensor_named = tf.convert_to_tensor(numpy_array, dtype=tf.float32, name="named_tensor")
            assert graph_tensor_named.name == "named_tensor:0"
    
        # Test conversion of already a tensor (should return same tensor)
        tensor_already = tf.convert_to_tensor(tensor)
        assert tensor_already is tensor
    
        # Test conversion with different dtypes
        int_array = np.array([[1, 2, 3], [4, 5, 6]], dtype=np.int32)
        int_tensor = tf.convert_to_tensor(int_array, dtype=tf.int32)
        assert int_tensor.dtype == tf.int32
        assert int_tensor.shape.as_list() == [2, 3]
    
        # Test conversion with as_ref=False (default)
>       tensor_no_ref = tf.convert_to_tensor(numpy_array, dtype=tf.float32, as_ref=False)

tests\test_tensorflow_python_framework_ops.py:577: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
D:\Coding\Anaconda\envs\testagent-experiment\lib\site-packages\tensorflow\python\util\traceback_utils.py:153: in error_handler
    raise e.with_traceback(filtered_tb) from None
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

args = (array([[ 0.49671414, -0.1382643 ,  0.64768857],
       [ 1.5230298 , -0.23415338, -0.23413695],
       [ 1.5792128 ,  0.7674347 , -0.46947438]], dtype=float32),)
kwargs = {'as_ref': False, 'dtype': tf.float32}

    @traceback_utils.filter_traceback
    def op_dispatch_handler(*args, **kwargs):
      """Call `dispatch_target`, peforming dispatch when appropriate."""
    
      # Type-based dispatch system (dispatch v2):
      if api_dispatcher is not None:
        if iterable_params is not None:
          args, kwargs = replace_iterable_params(args, kwargs, iterable_params)
>       result = api_dispatcher.Dispatch(args, kwargs)
E       TypeError: Got an unexpected keyword argument 'as_ref'

D:\Coding\Anaconda\envs\testagent-experiment\lib\site-packages\tensorflow\python\util\dispatch.py:1076: TypeError

---------- coverage: platform win32, python 3.9.25-final-0 -----------
Name                                            Stmts   Miss Branch BrPart  Cover   Missing
-------------------------------------------------------------------------------------------
tests\test_tensorflow_python_framework_ops.py     364     80     20      1    77%   21, 26, 30-33, 37-45, 49-52, 56-61, 65-66, 70, 488, 578-662, 769-770
-------------------------------------------------------------------------------------------
TOTAL                                             364     80     20      1    77%
Coverage XML written to file coverage.xml

=========================== short test summary info ===========================
FAILED tests\test_tensorflow_python_framework_ops.py::test_convert_to_tensor_basic_conversion
1 failed, 9 passed in 1.78s

Error: exit 1