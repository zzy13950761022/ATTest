{
  "plan_version": 2,
  "target": "tensorflow.python.ops.gen_image_ops",
  "block_rules": {
    "header_block": "HEADER",
    "footer_block": "FOOTER",
    "case_prefix": "CASE_",
    "case_format": "CASE_01"
  },
  "iteration_strategy": {
    "round1": {
      "include": "SMOKE_SET",
      "assert_level": "weak",
      "max_blocks": 5
    },
    "roundN": {
      "only_fix_failed_blocks": true,
      "block_limit": 3,
      "promote_deferred": true
    },
    "final": {
      "enable_strong_asserts": true,
      "coverage_optional": true
    }
  },
  "test_files": {
    "default": "tests/test_tensorflow_python_ops_gen_image_ops.py",
    "all_pattern": "tests/test_tensorflow_python_ops_gen_image_ops.py"
  },
  "cases": [
    {
      "tc_id": "TC-01",
      "block_id": "CASE_01",
      "name": "decode_jpeg 基本解码",
      "priority": "High",
      "param_matrix": [
        {
          "function": "decode_jpeg",
          "input_type": "bytes",
          "channels": 3,
          "dtype": "uint8",
          "fancy_upscaling": true,
          "try_recover_truncated": false,
          "acceptable_fraction": 1.0,
          "dct_method": ""
        }
      ],
      "asserts": {
        "weak": ["shape", "dtype", "value_range", "basic_property"],
        "strong": ["exact_match", "pixel_accuracy", "gradient_check"]
      },
      "oracle": "PIL.Image.open + numpy",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 80,
      "max_params": 8,
      "is_parametrized": true,
      "requires_mock": false,
      "mock_targets": []
    },
    {
      "tc_id": "TC-02",
      "block_id": "CASE_02",
      "name": "resize_bilinear 尺寸调整",
      "priority": "High",
      "param_matrix": [
        {
          "function": "resize_bilinear",
          "input_shape": [1, 32, 32, 3],
          "output_shape": [1, 64, 64, 3],
          "dtype": "float32",
          "align_corners": false,
          "half_pixel_centers": false
        }
      ],
      "asserts": {
        "weak": ["shape", "dtype", "finite", "value_range"],
        "strong": ["approx_equal", "interpolation_accuracy", "edge_behavior"]
      },
      "oracle": "scipy.ndimage.zoom",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 80,
      "max_params": 7,
      "is_parametrized": true,
      "requires_mock": false,
      "mock_targets": []
    },
    {
      "tc_id": "TC-03",
      "block_id": "CASE_03",
      "name": "non_max_suppression 边界框抑制",
      "priority": "High",
      "param_matrix": [
        {
          "function": "non_max_suppression",
          "boxes_shape": [10, 4],
          "scores_shape": [10],
          "max_output_size": 5,
          "iou_threshold": 0.5,
          "score_threshold": 0.0,
          "dtype": "float32"
        }
      ],
      "asserts": {
        "weak": ["shape", "dtype", "value_range", "basic_property"],
        "strong": ["correct_selection", "iou_compliance", "ordering"]
      },
      "oracle": "numpy 实现",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 80,
      "max_params": 7,
      "is_parametrized": true,
      "requires_mock": false,
      "mock_targets": []
    },
    {
      "tc_id": "TC-04",
      "block_id": "CASE_04",
      "name": "adjust_contrastv2 对比度调整",
      "priority": "High",
      "param_matrix": [
        {
          "function": "adjust_contrastv2",
          "input_shape": [1, 32, 32, 3],
          "dtype": "float32",
          "contrast_factor": 2.0
        }
      ],
      "asserts": {
        "weak": ["shape", "dtype", "finite", "value_range"],
        "strong": ["contrast_effect", "monotonicity", "edge_cases"]
      },
      "oracle": "numpy 线性变换",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 80,
      "max_params": 5,
      "is_parametrized": true,
      "requires_mock": false,
      "mock_targets": []
    },
    {
      "tc_id": "TC-05",
      "block_id": "CASE_05",
      "name": "crop_and_resize 裁剪调整",
      "priority": "High",
      "param_matrix": [
        {
          "function": "crop_and_resize",
          "input_shape": [1, 64, 64, 3],
          "boxes": [[0.25, 0.25, 0.75, 0.75]],
          "box_indices": [0],
          "crop_size": [32, 32],
          "method": "bilinear",
          "extrapolation_value": 0.0,
          "dtype": "float32"
        }
      ],
      "asserts": {
        "weak": ["shape", "dtype", "finite", "value_range"],
        "strong": ["crop_accuracy", "interpolation_quality", "boundary_handling"]
      },
      "oracle": "numpy 裁剪 + scipy 插值",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 80,
      "max_params": 8,
      "is_parametrized": true,
      "requires_mock": false,
      "mock_targets": []
    }
  ],
  "param_extensions": [
    {
      "base_block_id": "CASE_01",
      "priority": "Medium",
      "params": {
        "function": "decode_jpeg",
        "input_type": "bytes",
        "channels": 1,
        "dtype": "uint8",
        "fancy_upscaling": false,
        "try_recover_truncated": true,
        "acceptable_fraction": 0.5,
        "dct_method": "INTEGER_FAST"
      },
      "note": "灰度图像解码参数扩展"
    },
    {
      "base_block_id": "CASE_02",
      "priority": "Medium",
      "params": {
        "function": "resize_bilinear",
        "input_shape": [2, 16, 16, 1],
        "output_shape": [2, 8, 8, 1],
        "dtype": "float64",
        "align_corners": true,
        "half_pixel_centers": true
      },
      "note": "缩小尺寸和不同参数扩展"
    },
    {
      "base_block_id": "CASE_03",
      "priority": "Medium",
      "params": {
        "function": "non_max_suppression",
        "boxes_shape": [50, 4],
        "scores_shape": [50],
        "max_output_size": 10,
        "iou_threshold": 0.7,
        "score_threshold": 0.3,
        "dtype": "float64"
      },
      "note": "更大规模和严格阈值扩展"
    },
    {
      "base_block_id": "CASE_04",
      "priority": "Medium",
      "params": {
        "function": "adjust_contrastv2",
        "input_shape": [4, 16, 16, 1],
        "dtype": "float64",
        "contrast_factor": 0.5
      },
      "note": "批量处理和降低对比度扩展"
    },
    {
      "base_block_id": "CASE_05",
      "priority": "Medium",
      "params": {
        "function": "crop_and_resize",
        "input_shape": [3, 48, 48, 1],
        "boxes": [[0.1, 0.1, 0.9, 0.9], [0.2, 0.2, 0.8, 0.8]],
        "box_indices": [0, 1],
        "crop_size": [24, 24],
        "method": "nearest",
        "extrapolation_value": 0.5,
        "dtype": "float64"
      },
      "note": "多框裁剪和最近邻插值扩展"
    }
  ],
  "smoke_set": ["CASE_01", "CASE_02", "CASE_03", "CASE_04", "CASE_05"],
  "deferred_set": ["CASE_06", "CASE_07", "CASE_08", "CASE_09", "CASE_10"]
}