{
  "plan_version": 2,
  "target": "tensorflow.python.ops.gen_parsing_ops",
  "block_rules": {
    "header_block": "HEADER",
    "footer_block": "FOOTER",
    "case_prefix": "CASE_",
    "case_format": "CASE_01"
  },
  "iteration_strategy": {
    "round1": {
      "include": "SMOKE_SET",
      "assert_level": "weak",
      "max_blocks": 5
    },
    "roundN": {
      "only_fix_failed_blocks": true,
      "block_limit": 3,
      "promote_deferred": true
    },
    "final": {
      "enable_strong_asserts": true,
      "coverage_optional": true
    }
  },
  "test_files": {
    "default": "tests/test_tensorflow_python_ops_gen_parsing_ops.py",
    "all_pattern": "tests/test_tensorflow_python_ops_gen_parsing_ops.py"
  },
  "cases": [
    {
      "tc_id": "TC-01",
      "block_id": "CASE_01",
      "name": "decode_csv基础功能验证",
      "priority": "High",
      "param_matrix": [
        {
          "records": "[[\"1.0,2.0,3.0\",\"4.0,5.0,6.0\"]]",
          "record_defaults": "[tf.float32, tf.float32, tf.float32]",
          "field_delim": "\",\"",
          "use_quote_delim": true
        }
      ],
      "asserts": {
        "weak": ["output_shape", "output_dtype", "output_values", "no_exception"],
        "strong": ["exact_values", "gradient_correctness", "memory_usage"]
      },
      "oracle": "手动计算预期值",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 80,
      "max_params": 6,
      "is_parametrized": true,
      "requires_mock": false,
      "mock_targets": []
    },
    {
      "tc_id": "TC-02",
      "block_id": "CASE_02",
      "name": "parse_example稀疏稠密特征混合解析",
      "priority": "High",
      "param_matrix": [
        {
          "serialized": "example_proto_bytes",
          "dense_keys": "[\"dense_feature\"]",
          "dense_defaults": "[tf.constant([0.0])]",
          "dense_shapes": "[[1]]",
          "sparse_keys": "[\"sparse_feature\"]",
          "sparse_types": "[tf.int64]"
        }
      ],
      "asserts": {
        "weak": ["return_structure", "dense_shape", "sparse_indices", "no_exception"],
        "strong": ["feature_values", "sparse_density", "type_consistency"]
      },
      "oracle": "手动构造预期Example proto",
      "assertion_level": "weak",
      "size": "M",
      "max_lines": 100,
      "max_params": 8,
      "is_parametrized": true,
      "requires_mock": true,
      "mock_targets": [
        "tensorflow.python.framework.ops.Tensor",
        "tensorflow.python.framework.dtypes.DType"
      ]
    },
    {
      "tc_id": "TC-03",
      "block_id": "CASE_03",
      "name": "parse_tensor序列化反序列化完整性",
      "priority": "High",
      "param_matrix": [
        {
          "serialized": "tensor_proto_bytes",
          "out_type": "tf.float32"
        }
      ],
      "asserts": {
        "weak": ["output_dtype", "output_shape", "value_range", "no_exception"],
        "strong": ["exact_equality", "serialization_roundtrip", "precision_preservation"]
      },
      "oracle": "原始张量值",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 70,
      "max_params": 4,
      "is_parametrized": true,
      "requires_mock": false,
      "mock_targets": []
    },
    {
      "tc_id": "TC-04",
      "block_id": "CASE_04",
      "name": "decode_compressed压缩格式支持",
      "priority": "High",
      "param_matrix": [
        {
          "bytes": "compressed_data",
          "compression_type": "\"ZLIB\""
        }
      ],
      "asserts": {
        "weak": ["output_type", "output_length", "decompression_success", "no_exception"],
        "strong": ["exact_content", "compression_ratio", "performance_bounds"]
      },
      "oracle": "原始未压缩数据",
      "assertion_level": "weak",
      "size": "M",
      "max_lines": 90,
      "max_params": 5,
      "is_parametrized": true,
      "requires_mock": true,
      "mock_targets": [
        "tensorflow.python.ops.gen_array_ops",
        "tensorflow.python.eager.context"
      ]
    },
    {
      "tc_id": "TC-05",
      "block_id": "CASE_05",
      "name": "异常输入触发正确错误类型",
      "priority": "High",
      "param_matrix": [
        {
          "function": "decode_csv",
          "records": "invalid_csv_data",
          "record_defaults": "[tf.float32]",
          "expected_error": "InvalidArgumentError"
        }
      ],
      "asserts": {
        "weak": ["exception_type", "exception_message", "error_triggered"],
        "strong": ["error_context", "stack_trace", "recovery_path"]
      },
      "oracle": "TensorFlow标准错误类型",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 60,
      "max_params": 5,
      "is_parametrized": true,
      "requires_mock": false,
      "mock_targets": []
    }
  ],
  "param_extensions": [
    {
      "base_block_id": "CASE_01",
      "priority": "Medium",
      "params": {
        "records": "[[\"a,b,c\",\"d,e,f\"]]",
        "record_defaults": "[tf.string, tf.string, tf.string]",
        "field_delim": "\",\"",
        "use_quote_delim": true
      },
      "note": "字符串类型CSV解析"
    },
    {
      "base_block_id": "CASE_01",
      "priority": "Medium",
      "params": {
        "records": "[[\"1|2|3\",\"4|5|6\"]]",
        "record_defaults": "[tf.int32, tf.int32, tf.int32]",
        "field_delim": "\"|\"",
        "use_quote_delim": false
      },
      "note": "自定义分隔符CSV解析"
    },
    {
      "base_block_id": "CASE_02",
      "priority": "Medium",
      "params": {
        "serialized": "empty_example_proto",
        "dense_keys": "[]",
        "dense_defaults": "[]",
        "dense_shapes": "[]",
        "sparse_keys": "[]",
        "sparse_types": "[]"
      },
      "note": "空特征Example解析"
    },
    {
      "base_block_id": "CASE_03",
      "priority": "Medium",
      "params": {
        "serialized": "int_tensor_proto",
        "out_type": "tf.int64"
      },
      "note": "整数类型张量解析"
    },
    {
      "base_block_id": "CASE_04",
      "priority": "Medium",
      "params": {
        "bytes": "gzip_compressed_data",
        "compression_type": "\"GZIP\""
      },
      "note": "GZIP压缩格式支持"
    }
  ],
  "smoke_set": ["CASE_01", "CASE_02", "CASE_03"],
  "deferred_set": ["CASE_04", "CASE_05"]
}