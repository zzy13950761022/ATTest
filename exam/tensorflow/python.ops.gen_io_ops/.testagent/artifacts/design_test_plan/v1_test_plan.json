{
  "plan_version": 2,
  "target": "tensorflow.python.ops.gen_io_ops",
  "block_rules": {
    "header_block": "HEADER",
    "footer_block": "FOOTER",
    "case_prefix": "CASE_",
    "case_format": "CASE_01"
  },
  "iteration_strategy": {
    "round1": {
      "include": "SMOKE_SET",
      "assert_level": "weak",
      "max_blocks": 5
    },
    "roundN": {
      "only_fix_failed_blocks": true,
      "block_limit": 3,
      "promote_deferred": true
    },
    "final": {
      "enable_strong_asserts": true,
      "coverage_optional": true
    }
  },
  "test_files": {
    "default": "tests/test_tensorflow_python_ops_gen_io_ops.py",
    "all_pattern": "tests/test_tensorflow_python_ops_gen_io_ops.py"
  },
  "cases": [
    {
      "tc_id": "TC-01",
      "block_id": "CASE_01",
      "name": "TFRecordReader 创建与基本读取",
      "priority": "High",
      "param_matrix": [
        {
          "reader_type": "TFRecordReader",
          "file_path": "test.tfrecord",
          "compression_type": "",
          "mode": "graph"
        }
      ],
      "asserts": {
        "weak": ["reader_created", "tensor_type", "basic_read"],
        "strong": ["exact_content_match", "state_persistence", "error_handling"]
      },
      "oracle": "tensorflow.data.TFRecordDataset",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 80,
      "max_params": 6,
      "is_parametrized": true,
      "requires_mock": true,
      "mock_targets": [
        "builtins.open",
        "os.path.exists",
        "tensorflow.python.eager.execute"
      ]
    },
    {
      "tc_id": "TC-02",
      "block_id": "CASE_02",
      "name": "ReadFile 文件读取操作",
      "priority": "High",
      "param_matrix": [
        {
          "operation": "ReadFile",
          "file_path": "test.txt",
          "content": "test content",
          "mode": "eager"
        }
      ],
      "asserts": {
        "weak": ["file_read", "content_type", "basic_content"],
        "strong": ["exact_byte_match", "encoding_handling", "large_file"]
      },
      "oracle": "builtins.open",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 70,
      "max_params": 5,
      "is_parametrized": true,
      "requires_mock": true,
      "mock_targets": [
        "builtins.open",
        "os.path.exists",
        "tensorflow.python.framework.ops"
      ]
    },
    {
      "tc_id": "TC-03",
      "block_id": "CASE_03",
      "name": "SaveV2 检查点保存",
      "priority": "High",
      "param_matrix": [
        {
          "operation": "SaveV2",
          "file_path": "checkpoint.ckpt",
          "tensor_name": "test_tensor",
          "tensor_shape": [2, 3],
          "dtype": "float32",
          "mode": "graph"
        }
      ],
      "asserts": {
        "weak": ["operation_created", "tensor_saved", "file_created"],
        "strong": ["exact_value_match", "slice_save", "multiple_tensors"]
      },
      "oracle": "tensorflow.train.Checkpoint",
      "assertion_level": "weak",
      "size": "M",
      "max_lines": 90,
      "max_params": 7,
      "is_parametrized": true,
      "requires_mock": true,
      "mock_targets": [
        "builtins.open",
        "tempfile.NamedTemporaryFile",
        "tensorflow.python.eager.execute"
      ]
    },
    {
      "tc_id": "TC-04",
      "block_id": "CASE_04",
      "name": "FixedLengthRecordReader 创建",
      "priority": "High",
      "param_matrix": [
        {
          "reader_type": "FixedLengthRecordReader",
          "file_path": "fixed_length.bin",
          "record_bytes": 100,
          "header_bytes": 0,
          "footer_bytes": 0,
          "mode": "graph"
        }
      ],
      "asserts": {
        "weak": ["reader_created", "record_bytes_set", "tensor_type"],
        "strong": ["header_footer_handling", "v1_v2_compatibility", "error_cases"]
      },
      "oracle": "tensorflow.data.FixedLengthRecordDataset",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 75,
      "max_params": 6,
      "is_parametrized": true,
      "requires_mock": true,
      "mock_targets": [
        "builtins.open",
        "os.path.exists",
        "tensorflow.python.framework.ops"
      ]
    },
    {
      "tc_id": "TC-05",
      "block_id": "CASE_05",
      "name": "MatchingFiles 文件模式匹配",
      "priority": "High",
      "param_matrix": [
        {
          "operation": "MatchingFiles",
          "file_pattern": "test_*.txt",
          "matched_files": ["test_1.txt", "test_2.txt"],
          "mode": "eager"
        }
      ],
      "asserts": {
        "weak": ["operation_created", "tensor_returned", "basic_matching"],
        "strong": ["wildcard_patterns", "recursive_matching", "empty_results"]
      },
      "oracle": "glob.glob",
      "assertion_level": "weak",
      "size": "S",
      "max_lines": 65,
      "max_params": 5,
      "is_parametrized": true,
      "requires_mock": true,
      "mock_targets": [
        "glob.glob",
        "os.path.exists",
        "tensorflow.python.framework.ops"
      ]
    }
  ],
  "param_extensions": [
    {
      "base_block_id": "CASE_01",
      "priority": "Medium",
      "params": {
        "reader_type": "TFRecordReader",
        "file_path": "test.tfrecord",
        "compression_type": "GZIP",
        "mode": "graph"
      },
      "note": "压缩格式参数扩展"
    },
    {
      "base_block_id": "CASE_01",
      "priority": "Medium",
      "params": {
        "reader_type": "TextLineReader",
        "file_path": "test.txt",
        "skip_header_lines": 1,
        "mode": "graph"
      },
      "note": "文本读取器类型扩展"
    },
    {
      "base_block_id": "CASE_02",
      "priority": "Medium",
      "params": {
        "operation": "WriteFile",
        "file_path": "output.txt",
        "content": "test content",
        "mode": "graph"
      },
      "note": "文件写入操作扩展"
    },
    {
      "base_block_id": "CASE_03",
      "priority": "Medium",
      "params": {
        "operation": "RestoreV2",
        "file_path": "checkpoint.ckpt",
        "tensor_name": "test_tensor",
        "tensor_shape": [2, 3],
        "dtype": "float32",
        "mode": "graph"
      },
      "note": "检查点恢复操作扩展"
    },
    {
      "base_block_id": "CASE_04",
      "priority": "Medium",
      "params": {
        "reader_type": "FixedLengthRecordReader",
        "file_path": "fixed_length.bin",
        "record_bytes": 100,
        "header_bytes": 10,
        "footer_bytes": 5,
        "mode": "graph"
      },
      "note": "头尾字节参数扩展"
    }
  ],
  "smoke_set": ["CASE_01", "CASE_02", "CASE_03"],
  "deferred_set": ["CASE_04", "CASE_05"]
}