=== Run Tests ===
FFFF                                                                     [100%]
================================== FAILURES ===================================
_ TestExperimentalJitScopeG2.test_compile_ops_boolean_parameter_functionality[False-False] _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1226: AttributeError

During handling of the above exception, another exception occurred:

self = <test_tensorflow_python_compiler_xla_jit_g2.TestExperimentalJitScopeG2 object at 0x00000244B0A207C0>
compile_ops_param = False, expected_compile_value = False

    @pytest.mark.parametrize(
        "compile_ops_param,expected_compile_value",
        [
            (False, False),  # compile_ops=False
            (True, True),    # compile_ops=True
        ]
    )
    def test_compile_ops_boolean_parameter_functionality(
        self, compile_ops_param, expected_compile_value
    ):
        """
        测试 compile_ops 布尔参数功能
    
        验证：
        1. 上下文管理器可以正常创建
        2. 没有异常抛出
        3. compile_ops参数正确设置编译行为
        """
        # Mock eager execution检测，确保在graph模式下
>       with patch('tensorflow.python.eager.context.executing_eagerly') as mock_executing_eagerly:

tests\test_tensorflow_python_compiler_xla_jit_g2.py:79: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1388: in __enter__
    self.target = self.getter()
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1563: in <lambda>
    getter = lambda: _importer(target)
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1239: in _importer
    thing = _dot_lookup(thing, comp, import_path)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
            return getattr(thing, comp)
        except AttributeError:
            __import__(import_path)
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1229: AttributeError
_ TestExperimentalJitScopeG2.test_compile_ops_boolean_parameter_functionality[True-True] _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1226: AttributeError

During handling of the above exception, another exception occurred:

self = <test_tensorflow_python_compiler_xla_jit_g2.TestExperimentalJitScopeG2 object at 0x00000244B0A20820>
compile_ops_param = True, expected_compile_value = True

    @pytest.mark.parametrize(
        "compile_ops_param,expected_compile_value",
        [
            (False, False),  # compile_ops=False
            (True, True),    # compile_ops=True
        ]
    )
    def test_compile_ops_boolean_parameter_functionality(
        self, compile_ops_param, expected_compile_value
    ):
        """
        测试 compile_ops 布尔参数功能
    
        验证：
        1. 上下文管理器可以正常创建
        2. 没有异常抛出
        3. compile_ops参数正确设置编译行为
        """
        # Mock eager execution检测，确保在graph模式下
>       with patch('tensorflow.python.eager.context.executing_eagerly') as mock_executing_eagerly:

tests\test_tensorflow_python_compiler_xla_jit_g2.py:79: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1388: in __enter__
    self.target = self.getter()
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1563: in <lambda>
    getter = lambda: _importer(target)
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1239: in _importer
    thing = _dot_lookup(thing, comp, import_path)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
            return getattr(thing, comp)
        except AttributeError:
            __import__(import_path)
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1229: AttributeError
_ TestExperimentalJitScopeG2.test_compile_ops_callable_parameter_conditional_compilation[<lambda>-\u603b\u662f\u8fd4\u56deTrue\u7684\u53ef\u8c03\u7528\u51fd\u6570] _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1226: AttributeError

During handling of the above exception, another exception occurred:

self = <test_tensorflow_python_compiler_xla_jit_g2.TestExperimentalJitScopeG2 object at 0x00000244B0A20AF0>
callable_func = <function TestExperimentalJitScopeG2.<lambda> at 0x00000244B0A1C670>
description = '总是返回True的可调用函数'

    @pytest.mark.parametrize(
        "callable_func,description",
        [
            (lambda node_def: True, "总是返回True的可调用函数"),
            (lambda node_def: 'matmul' in node_def.op.lower(), "条件性返回的可调用函数"),
        ]
    )
    def test_compile_ops_callable_parameter_conditional_compilation(
        self, callable_func, description
    ):
        """
        测试 compile_ops 可调用参数条件编译
    
        验证：
        1. 上下文管理器可以正常创建
        2. 可调用参数被接受
        3. 没有异常抛出
        4. 可调用函数被正确调用
        """
        # Mock eager execution检测，确保在graph模式下
>       with patch('tensorflow.python.eager.context.executing_eagerly') as mock_executing_eagerly:

tests\test_tensorflow_python_compiler_xla_jit_g2.py:146: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1388: in __enter__
    self.target = self.getter()
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1563: in <lambda>
    getter = lambda: _importer(target)
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1239: in _importer
    thing = _dot_lookup(thing, comp, import_path)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
            return getattr(thing, comp)
        except AttributeError:
            __import__(import_path)
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1229: AttributeError
_ TestExperimentalJitScopeG2.test_compile_ops_callable_parameter_conditional_compilation[<lambda>-\u6761\u4ef6\u6027\u8fd4\u56de\u7684\u53ef\u8c03\u7528\u51fd\u6570] _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1226: AttributeError

During handling of the above exception, another exception occurred:

self = <test_tensorflow_python_compiler_xla_jit_g2.TestExperimentalJitScopeG2 object at 0x00000244B0A20C10>
callable_func = <function TestExperimentalJitScopeG2.<lambda> at 0x00000244B0A1C790>
description = '条件性返回的可调用函数'

    @pytest.mark.parametrize(
        "callable_func,description",
        [
            (lambda node_def: True, "总是返回True的可调用函数"),
            (lambda node_def: 'matmul' in node_def.op.lower(), "条件性返回的可调用函数"),
        ]
    )
    def test_compile_ops_callable_parameter_conditional_compilation(
        self, callable_func, description
    ):
        """
        测试 compile_ops 可调用参数条件编译
    
        验证：
        1. 上下文管理器可以正常创建
        2. 可调用参数被接受
        3. 没有异常抛出
        4. 可调用函数被正确调用
        """
        # Mock eager execution检测，确保在graph模式下
>       with patch('tensorflow.python.eager.context.executing_eagerly') as mock_executing_eagerly:

tests\test_tensorflow_python_compiler_xla_jit_g2.py:146: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1388: in __enter__
    self.target = self.getter()
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1563: in <lambda>
    getter = lambda: _importer(target)
D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1239: in _importer
    thing = _dot_lookup(thing, comp, import_path)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

thing = <module 'tensorflow' from 'D:\\Coding\\Anaconda\\envs\\testagent-experiment\\lib\\site-packages\\tensorflow\\__init__.py'>
comp = 'python', import_path = 'tensorflow.python'

    def _dot_lookup(thing, comp, import_path):
        try:
            return getattr(thing, comp)
        except AttributeError:
            __import__(import_path)
>           return getattr(thing, comp)
E           AttributeError: module 'tensorflow' has no attribute 'python'

D:\Coding\Anaconda\envs\testagent-experiment\lib\unittest\mock.py:1229: AttributeError

---------- coverage: platform win32, python 3.9.25-final-0 -----------
Name                                                  Stmts   Miss Branch BrPart  Cover   Missing
-------------------------------------------------------------------------------------------------
tests\test_tensorflow_python_compiler_xla_jit_g2.py      75     45      8      2    39%   24->28, 42-51, 55, 80-118, 147-197
-------------------------------------------------------------------------------------------------
TOTAL                                                    75     45      8      2    39%
Coverage XML written to file coverage.xml

=========================== short test summary info ===========================
FAILED tests\test_tensorflow_python_compiler_xla_jit_g2.py::TestExperimentalJitScopeG2::test_compile_ops_boolean_parameter_functionality[False-False]
FAILED tests\test_tensorflow_python_compiler_xla_jit_g2.py::TestExperimentalJitScopeG2::test_compile_ops_boolean_parameter_functionality[True-True]
FAILED tests\test_tensorflow_python_compiler_xla_jit_g2.py::TestExperimentalJitScopeG2::test_compile_ops_callable_parameter_conditional_compilation[<lambda>-\u603b\u662f\u8fd4\u56deTrue\u7684\u53ef\u8c03\u7528\u51fd\u6570]
FAILED tests\test_tensorflow_python_compiler_xla_jit_g2.py::TestExperimentalJitScopeG2::test_compile_ops_callable_parameter_conditional_compilation[<lambda>-\u6761\u4ef6\u6027\u8fd4\u56de\u7684\u53ef\u8c03\u7528\u51fd\u6570]
4 failed in 2.56s

Error: exit 1